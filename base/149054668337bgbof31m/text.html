<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">До обсуждения использования пространств имен важно понять, как PHP узнает какие элементы из пространства имен запрашиваются в вашем коде. Можно провести аналогию между пространствами имен PHP и файловой системой. Есть три способа обратиться к файлу в файловой системе: </p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Относительное имя файла, такое как <span style=" font-style:italic;">foo.txt</span>, преобразуемое в <span style=" font-style:italic;">currentdirectory/foo.txt</span>, где currentdirectory текущая директория, в которой мы находимся. Тогда, если текущая директория <span style=" font-style:italic;">/home/foo</span>, то имя преобразуется в <span style=" font-style:italic;">/home/foo/foo.txt</span>. </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Относительное имя пути, такое как <span style=" font-style:italic;">subdirectory/foo.txt</span>, преобразуется в <span style=" font-style:italic;">currentdirectory/subdirectory/foo.txt</span>. </li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Абсолютное имя пути, такое как <span style=" font-style:italic;">/main/foo.txt</span>, которое остается таким же: <span style=" font-style:italic;">/main/foo.txt</span>. </li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Тот же принцип применим и к элементам из пространств имен PHP. Для примера, имя класса может быть указано тремя способами: </p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Неполные имена (имена классов без префикса), такие как <span style=" font-style:italic;">$a = new foo();</span> или <span style=" font-style:italic;">foo::staticmethod();</span>. Если текущее пространство имен <span style=" font-style:italic;">currentnamespace</span>, то эти имена преобразуются в <span style=" font-style:italic;">currentnamespace\foo</span>. Если код находится в глобальном пространстве имен, то имена остаются такими же: <span style=" font-style:italic;">foo</span>. Предупреждение: неполные имена для функций и констант будут определяться в глобальном пространстве имен, если они не определены в текущем пространстве имен. Подробнее в <a href="http://ru2.php.net/manual/ru/language.namespaces.fallback.php"><span style=" text-decoration: underline; color:#0000ff;">Использование пространств имен: доступ к глобальным функциям и классам</span></a>. </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Полные имена (имена классов с префиксами), такие как <span style=" font-style:italic;">$a = new subnamespace\foo();</span> или <span style=" font-style:italic;">subnamespace\foo::staticmethod();</span>. Если текущее пространство имен <span style=" font-style:italic;">currentnamespace</span>, то эти имена преобразуются в <span style=" font-style:italic;">currentnamespace\subnamespace\foo</span>. Если код находится в глобальном пространстве имен, то имена преобразуются в <span style=" font-style:italic;">subnamespace\foo</span>. </li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Абсолютные имена или имена с предшествующим префиксом, обозначающим глобальное пространство. <span style=" font-style:italic;">$a = new \currentnamespace\foo();</span> или <span style=" font-style:italic;">\currentnamespace\foo::staticmethod();</span>. Имена всегда определяются так же, как и записаны: <span style=" font-style:italic;">currentnamespace\foo</span>. </li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ниже приведен пример трех вариантов синтаксиса в реальном коде: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">file1.php </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; color:#0000bb;">&lt;?php<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">namespace </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">Foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">Bar</span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">subnamespace</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br /><br />const </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">FOO </span><span style=" font-family:'Courier New,courier'; color:#007700;">= </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">1</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br />function </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">() {}<br />class </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">foo<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">{<br />    static function </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">staticmethod</span><span style=" font-family:'Courier New,courier'; color:#007700;">() {}<br />}<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">?&gt;</span><span style=" font-family:'Courier New,courier'; color:#000000;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">file2.php </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; color:#0000bb;">&lt;?php<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">namespace </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">Foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">Bar</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br />include </span><span style=" font-family:'Courier New,courier'; color:#dd0000;">'file1.php'</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br /><br />const </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">FOO </span><span style=" font-family:'Courier New,courier'; color:#007700;">= </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">2</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br />function </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">() {}<br />class </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">foo<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">{<br />    static function </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">staticmethod</span><span style=" font-family:'Courier New,courier'; color:#007700;">() {}<br />}<br /><br /></span><span style=" font-family:'Courier New,courier'; color:#ff8000;">/* Неполные имена */<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">(); </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// определяется как функция Foo\Bar\foo<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">::</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">staticmethod</span><span style=" font-family:'Courier New,courier'; color:#007700;">(); </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// определяется как класс Foo\Bar\foo с методом staticmethod<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">echo </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">FOO</span><span style=" font-family:'Courier New,courier'; color:#007700;">; </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// определяется как константа Foo\Bar\FOO<br /><br />/* Полные имена */<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">subnamespace</span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">(); </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// определяется как функция Foo\Bar\subnamespace\foo<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">subnamespace</span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">::</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">staticmethod</span><span style=" font-family:'Courier New,courier'; color:#007700;">(); </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// определяется как класс Foo\Bar\subnamespace\foo<br />                                  // c методом staticmethod<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">echo </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">subnamespace</span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">FOO</span><span style=" font-family:'Courier New,courier'; color:#007700;">; </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// определяется как константа Foo\Bar\subnamespace\FOO<br />                                  <br />/* Абсолютные имена */<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">Foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">Bar</span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">(); </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// определяется как функция Foo\Bar\foo<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">Foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">Bar</span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">::</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">staticmethod</span><span style=" font-family:'Courier New,courier'; color:#007700;">(); </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// определяется как класс Foo\Bar\foo с методом staticmethod<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">echo \</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">Foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">Bar</span><span style=" font-family:'Courier New,courier'; color:#007700;">\</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">FOO</span><span style=" font-family:'Courier New,courier'; color:#007700;">; </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// определяется как константа Foo\Bar\FOO<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">?&gt;</span><span style=" font-family:'Courier New,courier'; color:#000000;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Обратите внимание, что для доступа к любым глобальным классам, функциям или константам, может использоваться абсолютное имя, такое как <span style=" font-weight:600;">\strlen()</span>, или <span style=" font-weight:600;">\Exception</span>, или <span style=" font-style:italic;">\INI_ALL</span>. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="example-245"></a><span style=" font-weight:600;">П</span><span style=" font-weight:600;">ример #1 Доступ к глобальным классам, функциям и константам из пространства имен</span> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; color:#0000bb;">&lt;?php<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">namespace </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">Foo</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br /><br />function </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">strlen</span><span style=" font-family:'Courier New,courier'; color:#007700;">() {}<br />const </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">INI_ALL </span><span style=" font-family:'Courier New,courier'; color:#007700;">= </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">3</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br />class </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">Exception </span><span style=" font-family:'Courier New,courier'; color:#007700;">{}<br /><br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$a </span><span style=" font-family:'Courier New,courier'; color:#007700;">= \</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">strlen</span><span style=" font-family:'Courier New,courier'; color:#007700;">(</span><span style=" font-family:'Courier New,courier'; color:#dd0000;">'hi'</span><span style=" font-family:'Courier New,courier'; color:#007700;">); </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// вызывает глобальную функцию strlen<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$b </span><span style=" font-family:'Courier New,courier'; color:#007700;">= \</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">INI_ALL</span><span style=" font-family:'Courier New,courier'; color:#007700;">; </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// получает доступ к глобальной константе INI_ALL<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$c </span><span style=" font-family:'Courier New,courier'; color:#007700;">= new \</span><span style=" font-family:'Courier New,courier'; color:#0000bb;">Exception</span><span style=" font-family:'Courier New,courier'; color:#007700;">(</span><span style=" font-family:'Courier New,courier'; color:#dd0000;">'error'</span><span style=" font-family:'Courier New,courier'; color:#007700;">); </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// Создает экземпляр глобального класса Exception<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">?&gt;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; color:#0000bb;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; color:#000000;"><br /></p></body></html>