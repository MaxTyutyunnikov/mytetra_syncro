<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В Git существует два метода, которые показывают удаленные (в смысле расположенные на сервере, а не локально) ветки. Так, во всеком случае, можно понять из документации. На самом деле эти две команды показывают совершенно разные вещи. </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">* * *</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Команда <span style=" font-family:'FreeMono'; color:#6a1009;">git branch --remotes</span> показывает ссылки на удаленные ветки, которые существуют локально. Грубо говоря, когда происходит связывание локальной и удаленной ветки, тогда локально создается ссылка на удаленную ветку. Именно эти ссылки на удаленные ветки и показываются данной командой.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Кстати, эти ссылки хранятся в файлах с именем ветки, расположенных в каталоге <span style=" font-family:'FreeMono'; color:#6a1009;">./git/refs/remotes/origin</span>. Один файл - одна ссылка на удаленную ветку. Имя файла - это имя ветки. В файле находится хеш коммита, на который указывает данная ссылка (здесь надо понимать, что ветка в Git - это всего лишь указатель на определенный коммит, <a href="mytetra://note/1403437294p5cpqb1b39"><span style=" text-decoration: underline; color:#0000ff;">подробности в этой статье</span></a>).</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если дать команду разрыва связи между локальной и удаленной веткой, это значит только что будет разорвана связь. Это <span style=" font-weight:600;">не</span> значит, что ссылка на удаленную ветку будет удалена из локального репозитария. Поэтому команда <span style=" font-family:'FreeMono'; color:#6a1009;">git branch --remotes</span> все так же будет показывать все ветки, на которые локально хранятся ссылки.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">* * *</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Команда <span style=" font-family:'FreeMono'; color:#6a1009;">git ls-remote</span> связывается с удаленным сервером и выводит на экран ветки, которые существуют в репозитарии, и которые находятся на удаленном сервере. По сравнению с предыдущей командой, данная команда может показать больше веток, потому что программист может связывать не все локальные ветки с удаленными.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">А если не происходило выкачиваний из удаленного репозитария, то может получиться так, что локальная ветка указывает на удаленную ветку, но этой удаленной ветки уже не существует на сервере. В этом случае может помочь команда:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">git fetch --all -p</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'FreeMono'; color:#6a1009;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Она получит список всех веток на удаленном сервере, и локально удалит те <span style=" text-decoration: underline;">внешние</span> ссылки на ветки, для которых которых на сервере нет веток (при этом список локальных веток и сами локальные ветки затронуты не будет).</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>