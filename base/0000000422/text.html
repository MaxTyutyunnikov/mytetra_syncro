<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'Sans Serif'; font-size:9pt; font-weight:400; font-style:normal;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Инструкция <span style=" font-style:italic;">(тестировалось на Kubuntu 7.04)</span><br /><br />а) Все начинается с генерации локали ru_RU-KOI8-R, делается это <br />командой locale-gen. Список локалей, которые она будет генерировать, <br />находится в файле /var/lib/locales/supported.d/local. <br /><br />Нужно привести его к такому виду:<br /><br />#cat /var/lib/locales/supported.d/local<br />ru_RU.UTF-8 UTF-8<br />ru_UA.UTF-8 UTF-8<br />ru_RU.KOI8-R KOI8-R<br /><br />Затем, собственно, сгенерировать:<br />#sudo locale-gen<br />Generating locales...<br />ru_RU.KOI8-R... done<br />Generation complete.<br /><br />б) Далее, обновляем переменные окружения. За это отвечает<br />файл /etc/default/locale. В нем пишем: <br /><br />LANG="ru_RU.KOI8-R"<br />LANGUAGE="ru_RU:ru:en_GB:en"<br /><br />Иксы уже сейчас будут работать с богомерзской KOI8-R, а чтобы <br />заставить работать консоль, нужно сделать еще несколько телодвижений:<br /><br />apt-get install console-cyrillic<br /><br />В файл .profile добавляем:<br />loadkeys /usr/share/console-cyrillic/ru-koi8-r.kmap<br />consolechars -f /usr/share/console-cyrillic/UniCyr_8×14.psf -m /usr/share/console-cyrillic/koi8-r.acm.gz<br /><br />Готово.<br /><br />p.s. Только не спрашивайте, зачем кому-то в 21-м веке понадобилась<br />KOI8-R. Иногда бывает, что с ней живется проще.<br /></p></body></html>