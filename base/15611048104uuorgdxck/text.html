<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для переконвертирования картинок через командную строку, в Linux, традиционно, используется программа <span style=" font-weight:600;">convert</span>, входящая в пакет <span style=" font-weight:600;">ImageMagick</span>. Однако, эта программа частенько выкидывает разные сюрпризы. Сегфолты на файлах со сканами в разрешении 600 dpi с размером А4 - это обычное дело. Да и скорость работы <span style=" font-weight:600;">convert</span> оставляет желать лучшего: перевод одного файла картинки средних размеров в другой формат может занять десятки секунд на каком-нибудь Core2Duo. Есть ли e этой программе альтернатива? Да, есть! Называется она <span style=" font-weight:600;">mogrify</span>.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Эта программа тоже входит в пакет <span style=" font-weight:600;">ImageMagick</span>. И, похоже, что использует те же библиотеки что и <span style=" font-weight:600;">convert</span>. Но почему-то работает в разы лучше. В Linux много загадочных вещей, и вот такое положение дел для двух практически идентичных программ - это норма.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Формально, <span style=" font-weight:600;">mogrify</span> и <span style=" font-weight:600;">convert</span> - это один и тот же инструмент, у них даже опции одинаковые. Но <span style=" font-weight:600;">convert</span> не удаляет предыдущие файлы, а <span style=" font-weight:600;">mogrify</span> - удаляет. Формально, только в этом разница. И, видимо, удаляет только в том случае, если новый файл имет точно такое же название как и предыдущий.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Например, через <span style=" font-weight:600;">mogrify</span> можно переконвертировать png-файлы в jpg-файлы такой командой:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">mogrify -format jpg *.png</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace';"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В результате получатся новые jpg-файлы, но старые файлы тоже останутся. Что самое интересное, так это то, что <span style=" font-weight:600;">mogrify</span> сработает очень быстро. И, самое интересное - правильно.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">А что может пойти не так? Вот пример. </p></body></html>