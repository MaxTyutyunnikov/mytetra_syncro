<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;">Ниже приведены основные команды OpenGL.<br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">glEnable</span><span style=" font-family:'Sans'; font-size:10pt;"> – команда включающая что-то. Это может быть включение освещения или шейдеров или текстур, короче всего.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;">- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">glDisable</span><span style=" font-family:'Sans'; font-size:10pt;"> – собственно glEnable, но выключение.<br /><br />В примере есть строка glEnable(GL_DEPTH_TEST) – включение какого-то GL_DEPTH_TEST. <br /></span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">GL_DEPTH_TEST</span><span style=" font-family:'Sans'; font-size:10pt;"> — проверка глубины... если она будет выключена объекты не будут закрывать друг друга. Активно используется выключение этого теста, при рисовании планет (если планеты статические и играют роль фона, до которого нельзя долететь) или SkyBox`ов (ну, куб на который наложена текстура фона). Для полного понимания нужна практика.<br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">glClear</span><span style=" font-family:'Sans'; font-size:10pt;"> – это просто очистка экрана (вообще-то буфера, но «экрана» звучит понятней)<br />— </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">GL_COLOR_BUFFER_BIT</span><span style=" font-family:'Sans'; font-size:10pt;"> — значит, что мы чистим буфер цвета (изображение, которое мы видим)<br />— </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">GL_DEPTH_BUFFER_BIT</span><span style=" font-family:'Sans'; font-size:10pt;"> — очистка Z буфера, того самого, который используется при тесте глубины... (в координатах экрана, координата Z — глубина)<br /><br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">glBegin</span><span style=" font-family:'Sans'; font-size:10pt;"> – собственно, объявление о том, что мы собрались рисовать... В параметры пихается способ рисования. Бывает <br />— </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">GL_TRIANGLES</span><span style=" font-family:'Sans'; font-size:10pt;"> (3 вершины — треугольник), <br />— </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">GL_QUADS</span><span style=" font-family:'Sans'; font-size:10pt;"> (4 вершины — квадрат), <br />— </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">GL_POINTS</span><span style=" font-family:'Sans'; font-size:10pt;"> (1 вершина — точка), <br />— </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">GL_LINES</span><span style=" font-family:'Sans'; font-size:10pt;"> (2 вершины — линия), <br />и много всяких разных.<br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">glEnd</span><span style=" font-family:'Sans'; font-size:10pt;"> — объявление о том, что мы уже нарисовали.<br /><br />glBegin и glEnd могут вызываться сколько угодно за кадр, так что не волнуйтесь.<br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">glVertex</span><span style=" font-family:'Sans'; font-size:10pt;"> –рисование вершины. Формат команды таков: glVertexXY,где Х – количество вершин (от 2-x,y до 4-x,y,z,w) и Y – формат координат (желательно использовать single–тогда Y=f)<br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">glColor</span><span style=" font-family:'Sans'; font-size:10pt;"> –задание цвета, должен быть вызван ДО рисования вершины с данным цветом. Формат идентичен glVertex. <br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">glNormal</span><span style=" font-family:'Sans'; font-size:10pt;"> –задание нормали, должен быть вызван ДО рисования вершины. Используется для просчета освещения. Формат идентичен glVertex. <br /><br /></span><span style=" font-family:'Sans'; font-size:10pt; color:#ff0000;">НО! Учтите! Видеокарты напрямую поддерживают только тип GL_FLOAT он же single, с<br />double могут быть большие проблемы.</span><span style=" font-family:'Sans'; font-size:10pt;"><br /><br /><br />А теперь началась математика... (</span><span style=" font-family:'Sans'; font-size:10pt; font-style:italic;">Это Матрица, Нео!)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;"><br />Матрицы используются для описания трансформаций в пространстве. Матрица 3х3 представляет собой систему координат, т.е. Первая тройка – вектор оси Х, вторая – ось Y, третья – ось Z. И чтоб перевести точку в мировой системе координат в систему координат данной матрицы, нужно умножить её на координату этой точки...<br /><br />Ничего, со временем все прийдёт... :)<br /><br />В OpenGL есть 3 матрицы:<br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">GL_MODELVIEW</span><span style=" font-family:'Sans'; font-size:10pt;"><br />Собственно, это матрица активной камеры.<br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">GL_PROJECTION</span><span style=" font-family:'Sans'; font-size:10pt;"><br />Это проекционная матрица – служит для проекции из 3D мира в 2D — на экран.<br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">GL_TEXTURE</span><span style=" font-family:'Sans'; font-size:10pt;"><br />Матрица текстуры – регулирует, как накладывать текстуру на полигон.<br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">glMatrixMode</span><span style=" font-family:'Sans'; font-size:10pt;"> – с помощью этой команды выбирается активная матрица из 3 перечисленных.<br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">glLoadIdentity</span><span style=" font-family:'Sans'; font-size:10pt;"> – а это установление единичной матрицы трансформации... Когда я начинал программировать с помощью OpenGL, эта фраза меня убивала... Просто набор непонятных слов, ну в общем задает начальную, без каких либо изменений матрицу, вида:<br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt; font-weight:600; color:#800000;">1 0 0 0<br />0 1 0 0<br />0 0 1 0<br />0 0 0 1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;"><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">glRotateN(a,x,y,z)</span><span style=" font-family:'Sans'; font-size:10pt;"> – поворачивает активную матрицу на угол a по оси (x,y,z). В качестве N-может быть или f(если а-single)или d(а-double)<br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">glTranslateN(x, y, z)</span><span style=" font-family:'Sans'; font-size:10pt;"> – задает перемещение на вектор (x,y,z). То есть, если мы находимся в точке (10,0,0) и сделаем glTranslatef(3,2,1), то мы будем уже в точке(13,2,1). N – или f, или d.<br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">gluPerspective(FOV, ClientWidth/ClientHeight, NEAR, FAR)</span><span style=" font-family:'Sans'; font-size:10pt;"> – задает матрицу проецирования. Используется при активной GL_PROJECTION... Хотя никто не запрещал делать это и на GL_MODELVIEW, но смысл?<br /><br /></span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">FOV</span><span style=" font-family:'Sans'; font-size:10pt;"> – угол обзора. Если хотите сделать эффект «увеличивающих видеолинз» (X-Tension), то просто плавно измените 60 на меньшее число, не забывая вызывать FormResize (а именно gluPerspective).<br /><br /></span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">NEAR</span><span style=" font-family:'Sans'; font-size:10pt;"> – ближняя грань пирамиды видимости, все объекты, что ближе будут обрезаться.<br /><br /></span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">FAR</span><span style=" font-family:'Sans'; font-size:10pt;"> – дальняя грань пирамиды видимости, все объекты, что дальше будут обрезаться.<br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">glViewport</span><span style=" font-family:'Sans'; font-size:10pt;"> – а, ну это процедура, задающая Viewport – область, куда будем сбрасывать буфер (т.е. рисовать).<br /><br />- </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">Context.PageFlip</span><span style=" font-family:'Sans'; font-size:10pt;"> — сбрасывает буфер, ну рисует, короче. (на самом деле эта команда вызывает просто </span><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">SwapBuffers</span><span style=" font-family:'Sans'; font-size:10pt;">)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans'; font-size:10pt;"><br /></p></body></html>