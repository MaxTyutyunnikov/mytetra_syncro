<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Если вы только что сделали коммит, но еще не сделали </span><span style=" font-family:'FreeMono'; color:#6a1009;">git push</span><span style=" font-size:10pt;">, и поняли, что должны были ввести другое описание, то выполните следующую команду:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">$ git commit --amend </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">чтобы изменить последнее описание. При запуске этой команды откроется редактор с последним описанием коммита. Его можно изменить, сохранить, и git перейдет в состояние, котором находится после обычной команды </span><span style=" font-family:'FreeMono'; color:#6a1009;">git commit</span><span style=" font-size:10pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Осознали, что забыли добавить файл? Запустите </span><span style=" font-family:'Courier 10 Pitch'; font-size:10pt; color:#6a0e07;">git add</span><span style=" font-size:10pt;">, чтобы это сделать, затем выполните вышеуказанную команду. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Захотелось добавить еще немного изменений в последний коммит? Так сделайте их и запустите: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">$ git commit --amend -a</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; color:#000000;">Примечание: если вы успели до команды </span><span style=" font-family:'Courier New'; font-size:10pt; color:#6a0e07;">git </span><span style=" font-size:10pt; color:#000000;">с опцией</span><span style=" font-family:'Courier New'; font-size:10pt; color:#6a0e07;"> amend</span><span style=" font-size:10pt; color:#000000;"> запушить изменения, то при </span><span style=" font-family:'Courier New'; font-size:10pt; color:#6a0e07;">git pull</span><span style=" font-size:10pt; color:#000000;"> будет выдана ошибка вида:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">error: failed to push some refs to 'git@github.com:user/repusitory.git'</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">hint: Updates were rejected because the tip of your current branch is behind</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">hint: its remote counterpart. Integrate the remote changes (e.g.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">hint: 'git pull ...') before pushing again.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">hint: See the 'Note about fast-forwards' in 'git push --help' for details.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier 10 Pitch'; font-size:10pt; color:#6a0e07;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; color:#000000;">Чтобы ее исправить, надо сделать </span><span style=" font-family:'Courier 10 Pitch'; font-size:10pt; color:#6a0e07;">git pull</span><span style=" font-size:10pt; color:#000000;">, а потом </span><span style=" font-family:'Courier 10 Pitch'; font-size:10pt; color:#6a0e07;">git push</span><span style=" font-size:10pt; color:#000000;">. Но при этом в истории появятся два коммита, которые делают то же самое. Плюс еще появится технологический merge-коммит, который сливает удаленную и локальну ветку, но в котором не будет никаких различий слияния (ведь было сделано только изменение описания коммита).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:10pt;"><br /></p></body></html>