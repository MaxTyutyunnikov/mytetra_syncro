<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">Получение Cisco AnyConnect</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;">Компания Cisco - очень странная компания, традиционно вставляющая палки в колеса своим собстевенным клиентам. Казалось бы, компания производит аппаратное обрудование, поэтому программное обеспечение завязано именно на аппаратуру Cisco. Если нет аппаратуры Cisco, то воспользоваться ПО Cisco не получится, оно даром никому не нужно. Но нет: в компании Cisco решили, что даже клиентское программное обеспечение должно выдаваться только по заранее купленным подпискам, и закрыто для скачивания логином-паролем. Но и это еще не все: даже имея логин и пароль для личного кабинета на сайте Cisco, и имея оплаченную подписку, совершенно не факт, что клиентское ПО будет доступно. Какие там хитросплетения корпоративного маразма работают - мало кому ведомо. Поэтому есть два пути: либо потратить пару суток на пинания админов и бодания с техподдержкой и таки получить файлы клиента, либо решать свои проблемы самому и быстро.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;">Если вы думаете, что вы один такой, то нет: клиенты Cisco постоянно попадают в ситуацию, когда нужно получить доступ к серверу предприятия, а админы не подготовились заранее. Или подготовились, но так как админы оказались вендо-админами, то и доступ в сеть умеют делать только через Windows, ведь &quot;других операционных систем на свете не бывает&quot;. Лучшее что вам предложат - это пойти и за свои деньги приобрести лицензию на Windows и установить ее, или предложат поставить пиратскую версию Windows: все равно никто не узнает. Не хотите так? Тогда проблему с подключением вам придется решать самостоятельно.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;">Итак, что можно сделать? Если покопаться, то в разных закоулках интернета можно найти выложенные клиенты Cisco различных версий. Они лежат на торрентах, или частенько выложены разными компаниями в публичных каталогах веб-серверов, и по каким-либо причинам проиндексированы поисковиками. Например, на момент написания этой статьи, клиенты нашлись на сайтах различных сетевых интеграторов, и даже на сервере самого крупного российского интернет-магазина: видимо, они лежат там для возможности установки удаленного соединения между сотрудниками и серверами предприятия. Файл с клиентом для Linux называется примерно так:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans'; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">anyconnect-linux64-4.6.03049-predeploy-k9.tar.gz</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans'; font-size:10pt;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;">(Я намеренно не даю прямые ссылки на скачивание файлов, чтобы у тех, кто выложил файлы клиентов, не возникло лишних проблем. Просто пользуйтесь поисковиками, и все найдете).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;">Понятно, что доверять таким источникам программного обеспечения нельзя. Мало ли какие злоумышленники выложат модифицированно ПО Cisco, которое будет сливать на сторону логины-пароли и ключи доступа к сети предприятия. Поэтому поступить можно следующим образом. На официальном сайте Cisco можно просматривать информацию о пакетах клиентского ПО без ввода логина-пароля. Вот, например, ссылка на просмотр ПО AnyConnect:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans'; font-size:10pt;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://software.cisco.com/download/home/286281283/type/282364313/release/4.8.03036"><span style=" font-family:'Sans'; font-size:10pt; text-decoration: underline; color:#0000ff;">https://software.cisco.com/download/home/286281283/type/282364313/release/4.8.03036</span></a></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans'; font-size:10pt;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;">Сам пакет вам не дадут скачать, но посмотреть о нем инфу можно. В информации будет, в том числе и контрольные суммы по стандартам MD5 и SHA512:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans'; font-size:10pt;"><br /></p>
<p align="center" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1585557361vznsso0eh9.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans'; font-size:10pt; color:#000000;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt; color:#000000;">Таким образом, взяв инсталляционный пакет из стороннего источника, всегда можно проверить, является ли он доверенным пакетом. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans'; font-size:10pt; color:#000000;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt; font-weight:600; color:#000000;">Установка AnyConnect на Linux</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt; color:#000000;">Распаковав *.tar.gz с VPN-клиентом, нужно просто, от рута, запустить скрипт:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans'; font-size:10pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">vpn_install.sh</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans'; font-size:10pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt; color:#000000;">Далее нужно согласиться с лицензионным соглашением, и клиент будет установлен. Его можно будет найти в основном меню окружения рабочего стола:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1585818752f8ot85jlnq.png" width="670" height="244" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">При его запуске будет отображен графический интерфейс с настройками соединения:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1585818965setclgv503.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Наверняка, при попытке соединения к серверу предприятия, данный клиент заблокирует установку соединения, так как сервер предприятия определится как недоверенный (untrusted). Но он сразу же предложит открыть настройки и снять блокировку на подключение к недоверенным серверам. В результате такой настройки и введения правильных данных подключения, VPN-канал будет установлен.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Наименование интерфейса будет следующим: </span><span style=" font-family:'FreeMono'; color:#6a1009;">cscotun0</span><span style=" font-family:'monospace'; font-size:10pt; color:#000000; background-color:#ffffff;">.</span><span style=" font-family:'monospace'; font-size:10pt;"><br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt; font-weight:600;">Замена Cisco AnyConnect на свободное ПО</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;">Ещё, вместо пропиетарного AnyConnect можно использовать клиент </span><span style=" font-family:'FreeMono'; color:#6a1009;">openconnect</span><span style=" font-family:'Sans'; font-size:10pt;">. Достаточно ввести команду:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">sudo openconnect -s /etc/vpnc/vpnc-script vpn-server —user=user-name</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;">В этой команде надо только подставить адрес сервера и имя пользователя.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;">Зачем указывать путь к </span><span style=" font-family:'FreeMono'; color:#6a1009;">vpnc-script</span><span style=" font-family:'Sans'; font-size:10pt;"> - не совсем понятно, но это дефолтный скрипт, поставляемый вместе с </span><span style=" font-family:'FreeMono'; color:#6a1009;">openconnect</span><span style=" font-family:'Sans'; font-size:10pt;">. Никаких конфигов редактировать не нужно. Команда запросит пароль, а потом, при необходимости, код от двухфакторной авторизации. И если все данные будут корректными, то будет создано сетевое устройство </span><span style=" font-family:'FreeMono'; color:#6a1009;">tunX</span><span style=" font-family:'Sans'; font-size:10pt;">. Увидеть его можно с помощью команды:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans'; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">ip addr</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans'; font-size:10pt;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans'; font-size:10pt;">После выполнения вышеуказанных действий вся работа с сетью автомагически будет проходить через этот виртуальный интерфейс.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans'; font-size:10pt;"><br /></p></body></html>