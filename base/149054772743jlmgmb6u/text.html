<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">На реализацию пространств имен в PHP повлияли и динамические особенности языка. Преобразуем нижеследующий код для использования пространств имен: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="example-246"></a><span style=" font-weight:600;">П</span><span style=" font-weight:600;">ример #1 Динамически доступные элементы</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">example1.php: </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">&lt;?php<br />class classname<br />{<br />    function __construct()<br />    {<br />        echo __METHOD__,&quot;\n&quot;;<br />    }<br />}<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">function funcname()<br />{<br />    echo __FUNCTION__,&quot;\n&quot;;<br />}<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">const constname = &quot;global&quot;;<br /><br />$a = 'classname';<br />$obj = new $a; // выводит &quot;classname::__construct&quot;<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">$b = 'funcname';<br />$b(); // выводит funcname<br />echo constant('constname'), &quot;\n&quot;; // выводит &quot;global&quot;<br />?&gt;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; color:#0000bb;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Необходимо использовать абсолютное имя (имя класса с префиксом пространства имен). Обратите внимание, что нет никакой разницы между полным именем и абсолютным внутри динамического имени класса, функции или константы. Начальный обратный слэш не является необходимым. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="example-247"></a><span style=" font-weight:600;">П</span><span style=" font-weight:600;">ример #2 Динамически доступные элементы пространства имен</span> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; color:#0000bb;">&lt;?php<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">namespace </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">namespacename</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br />class </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">classname<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">{<br />    function </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">__construct</span><span style=" font-family:'Courier New,courier'; color:#007700;">()<br />    {<br />        echo </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">__METHOD__</span><span style=" font-family:'Courier New,courier'; color:#007700;">,</span><span style=" font-family:'Courier New,courier'; color:#dd0000;">&quot;\n&quot;</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br />    }<br />}<br />function </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">funcname</span><span style=" font-family:'Courier New,courier'; color:#007700;">()<br />{<br />    echo </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">__FUNCTION__</span><span style=" font-family:'Courier New,courier'; color:#007700;">,</span><span style=" font-family:'Courier New,courier'; color:#dd0000;">&quot;\n&quot;</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br />}<br />const </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">constname </span><span style=" font-family:'Courier New,courier'; color:#007700;">= </span><span style=" font-family:'Courier New,courier'; color:#dd0000;">&quot;namespaced&quot;</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br /><br />include </span><span style=" font-family:'Courier New,courier'; color:#dd0000;">'example1.php'</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br /><br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$a </span><span style=" font-family:'Courier New,courier'; color:#007700;">= </span><span style=" font-family:'Courier New,courier'; color:#dd0000;">'classname'</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$obj </span><span style=" font-family:'Courier New,courier'; color:#007700;">= new </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$a</span><span style=" font-family:'Courier New,courier'; color:#007700;">; </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// выводит classname::__construct<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$b </span><span style=" font-family:'Courier New,courier'; color:#007700;">= </span><span style=" font-family:'Courier New,courier'; color:#dd0000;">'funcname'</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$b</span><span style=" font-family:'Courier New,courier'; color:#007700;">(); </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// выводит funcname<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">echo </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">constant</span><span style=" font-family:'Courier New,courier'; color:#007700;">(</span><span style=" font-family:'Courier New,courier'; color:#dd0000;">'constname'</span><span style=" font-family:'Courier New,courier'; color:#007700;">), </span><span style=" font-family:'Courier New,courier'; color:#dd0000;">&quot;\n&quot;</span><span style=" font-family:'Courier New,courier'; color:#007700;">; </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// выводит global<br /><br />/* обратите внимание, что при использовании двойных кавычек символ обратного слэша должен быть заэкранирован. Например, &quot;\\namespacename\\classname&quot; */<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$a </span><span style=" font-family:'Courier New,courier'; color:#007700;">= </span><span style=" font-family:'Courier New,courier'; color:#dd0000;">'\namespacename\classname'</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$obj </span><span style=" font-family:'Courier New,courier'; color:#007700;">= new </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$a</span><span style=" font-family:'Courier New,courier'; color:#007700;">; </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// выводит namespacename\classname::__construct<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$a </span><span style=" font-family:'Courier New,courier'; color:#007700;">= </span><span style=" font-family:'Courier New,courier'; color:#dd0000;">'namespacename\classname'</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$obj </span><span style=" font-family:'Courier New,courier'; color:#007700;">= new </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$a</span><span style=" font-family:'Courier New,courier'; color:#007700;">; </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// также выводит namespacename\classname::__construct<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$b </span><span style=" font-family:'Courier New,courier'; color:#007700;">= </span><span style=" font-family:'Courier New,courier'; color:#dd0000;">'namespacename\funcname'</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$b</span><span style=" font-family:'Courier New,courier'; color:#007700;">(); </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// выводит namespacename\funcname<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$b </span><span style=" font-family:'Courier New,courier'; color:#007700;">= </span><span style=" font-family:'Courier New,courier'; color:#dd0000;">'\namespacename\funcname'</span><span style=" font-family:'Courier New,courier'; color:#007700;">;<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">$b</span><span style=" font-family:'Courier New,courier'; color:#007700;">(); </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// также выводит namespacename\funcname<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">echo </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">constant</span><span style=" font-family:'Courier New,courier'; color:#007700;">(</span><span style=" font-family:'Courier New,courier'; color:#dd0000;">'\namespacename\constname'</span><span style=" font-family:'Courier New,courier'; color:#007700;">), </span><span style=" font-family:'Courier New,courier'; color:#dd0000;">&quot;\n&quot;</span><span style=" font-family:'Courier New,courier'; color:#007700;">; </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// выводит namespaced<br /></span><span style=" font-family:'Courier New,courier'; color:#007700;">echo </span><span style=" font-family:'Courier New,courier'; color:#0000bb;">constant</span><span style=" font-family:'Courier New,courier'; color:#007700;">(</span><span style=" font-family:'Courier New,courier'; color:#dd0000;">'namespacename\constname'</span><span style=" font-family:'Courier New,courier'; color:#007700;">), </span><span style=" font-family:'Courier New,courier'; color:#dd0000;">&quot;\n&quot;</span><span style=" font-family:'Courier New,courier'; color:#007700;">; </span><span style=" font-family:'Courier New,courier'; color:#ff8000;">// также выводит namespaced<br /></span><span style=" font-family:'Courier New,courier'; color:#0000bb;">?&gt;</span><span style=" font-family:'Courier New,courier'; color:#000000;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Обязательно прочитайте <a href="http://ru2.php.net/manual/ru/language.namespaces.faq.php#language.namespaces.faq.quote"><span style=" text-decoration: underline; color:#0000ff;">примечание об экранировании имен пространства имен в строках</span></a>. </p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>