<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Дана строка, представляющая собой математическое выражение, содержащее числа, переменные, различные операции. Требуется вычислить его значение за O(n), где n — длина строки.</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Здесь описан алгоритм, который переводит это выражение в так называемую </span><span style=" font-family:'Arial'; font-size:10pt; font-weight:600; color:#222222;">обратную польскую нотацию</span><span style=" font-family:'Arial'; font-size:10pt; color:#222222;"> (явным или неявным образом), и уже в ней вычисляет выражение.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Arial'; font-size:10pt; color:#222222;"><br /></p>
<h2 style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="header_1"></a><span style=" font-family:'Arial'; font-size:10pt; font-weight:600; color:#660000;">О</span><span style=" font-family:'Arial'; font-size:10pt; font-weight:600; color:#660000;">братная польская нотация</span></h2>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Обратная польская нотация — это форма записи математических выражений, в которой операторы расположены после своих операндов.</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Например, следующее выражение:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Arial'; font-size:10pt; color:#222222;"><br /></p>
<p align="center" style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1626423876chhnfx5l8f.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">в обратной польской нотации записывается следующим образом:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Arial'; font-size:10pt; color:#222222;"><br /></p>
<p align="center" style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1626423917v1ed1voe5c.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Arial'; font-size:10pt; color:#222222;"><br /></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Обратная польская нотация была разработана австралийским философом и специалистом в области теории вычислительных машин Чарльзом Хэмблином в середине 1950-х на основе польской нотации, которая была предложена в 1920 г. польским математиком Яном Лукасевичем.</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Удобство обратной польской нотации заключается в том, что выражения, представленные в такой форме, очень </span><span style=" font-family:'Arial'; font-size:10pt; font-weight:600; color:#222222;">легко вычислять</span><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">, причём за линейное время. Заведём стек, изначально он пуст. Будем двигаться слева направо по выражению в обратной польской нотации; если текущий элемент — число или переменная, то кладём на вершину стека её значение; если же текущий элемент — операция, то достаём из стека два верхних элемента (или один, если операция унарная), применяем к ним операцию, и результат кладём обратно в стек. В конце концов в стеке останется ровно один элемент - значение выражения.</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Очевидно, этот простой алгоритм выполняется за O(n), т.е. порядка длины выражения.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Arial'; font-size:10pt; color:#222222;"><br /></p>
<h2 style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="header_2"></a><span style=" font-family:'Arial'; font-size:10pt; font-weight:600; color:#660000;">Р</span><span style=" font-family:'Arial'; font-size:10pt; font-weight:600; color:#660000;">азбор простейших выражений</span></h2>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Пока мы рассматриваем только простейший случай: все операции </span><span style=" font-family:'Arial'; font-size:10pt; font-weight:600; color:#222222;">бинарны</span><span style=" font-family:'Arial'; font-size:10pt; color:#222222;"> (т.е. от двух аргументов), и все </span><span style=" font-family:'Arial'; font-size:10pt; font-weight:600; color:#222222;">левоассоциативны</span><span style=" font-family:'Arial'; font-size:10pt; color:#222222;"> (т.е. при равенстве приоритетов выполняются слева направо). Скобки разрешены.</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Заведём два стека: один для чисел, другой для операций и скобок (т.е. стек символов). Изначально оба стека пусты. Для второго стека будем поддерживать предусловие, что все операции упорядочены в нём по строгому убыванию приоритета, если двигаться от вершины стека. Если в стеке есть открывающие скобки, то упорядочен каждый блок операций, находящийся между скобками, а весь стек в таком случае не обязательно упорядочен.</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Будем идти по строке слева направо. Если текущий элемент — цифра или переменная, то положим в стек значение этого числа/переменной. Если текущий элемент — открывающая скобка, то положим её в стек. Если текущий элемент — закрывающая скобка, то будем выталкивать из стека и выполнять все операции до тех пор, пока мы не извлечём открывающую скобку (т.е., иначе говоря, встречая закрывающую скобку, мы выполняем все операции, находящиеся внутри этой скобки). Наконец, если текущий элемент — операция, то, пока на вершине стека находится операция с таким же или большим приоритетом, будем выталкивать и выполнять её.</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">После того, как мы обработаем всю строку, в стеке операций ещё могут остаться некоторые операции, которые ещё не были вычислены, и нужно выполнить их все (т.е. действуем аналогично случаю, когда встречаем закрывающую скобку).</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Вот реализация данного метода на примере обычных операций + - * / %:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">bool</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> delim </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">char</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> c</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">return</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> c == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">' '</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">bool</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> is_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">char</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> c</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">return</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> c==</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'+'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || c==</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'-'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || c==</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'*'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || c==</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'/'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || c==</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'%'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> priority </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">char</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> op</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">return</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		op == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'+'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || op == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'-'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> ? </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">1</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> :</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		op == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'*'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || op == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'/'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || op == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'%'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> ? </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">2</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> :</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		-</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">1</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">void</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> process_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">vector&lt;</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">&gt; &amp; st, </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">char</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> op</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> r = st.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  st.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> l = st.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  st.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">switch</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">case</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'+'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">:  st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">l + r</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">break</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">case</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'-'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">:  st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">l - r</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">break</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">case</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'*'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">:  st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">l * r</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">break</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">case</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'/'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">:  st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">l / r</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">break</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">case</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'%'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">:  st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">l % r</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">break</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> calc </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">string &amp; s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	vector&lt;</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">&gt; st;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	vector&lt;</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">char</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">&gt; op;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">for</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">size_t</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> i=</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">0</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">; i&lt;s.length</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">; ++i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">if</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">!delim </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">if</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'('</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				op.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'('</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">else</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">if</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">')'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">while</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> != </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'('</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					process_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">st, op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">,  op.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				op.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">else</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">if</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">is_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]))</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">char</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> curop = s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">while</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">!op.empty</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &amp;&amp; priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &gt;= priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					process_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">st, op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">,  op.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				op.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">curop</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">else</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				string operand;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">while</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i &lt; s.length</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &amp;&amp; </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#000066;">isalnum</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">])))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					operand += s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i++</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				--i;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">if</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#000066;">isdigit</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">operand</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">0</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#000066;">atoi</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">operand.c_str</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()))</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">else</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">get_variable_val </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">operand</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">))</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">while</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">!op.empty</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		process_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">st, op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">,  op.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">return</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> st.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Таким образом, мы научились вычислять значение выражения за O(n), и при этом мы неявно воспользовались обратной польской нотацией: мы расположили операции в таком порядке, когда к моменту вычисления очередной операции оба её операнда уже вычислены. Слегка модифицировав вышеописанный алгоритм, можно получить выражение в обратной польской нотаци и в явном виде.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Arial'; font-size:10pt; color:#222222;"><br /></p>
<h2 style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="header_3"></a><span style=" font-family:'Arial'; font-size:10pt; font-weight:600; color:#660000;">У</span><span style=" font-family:'Arial'; font-size:10pt; font-weight:600; color:#660000;">нарные операции</span></h2>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Теперь предположим, что выражение содержит унарные операции (т.е. от одного аргумента). Например, особенно часто встречаются унарный плюс и минус.</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Одно из отличий этого случая заключается в необходимости определения того, является ли текущая операция унарной или бинарной.</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Можно заметить, что перед унарной операцией всегда стоит либо другая операция, либо открывающая скобка, либо вообще ничего (если она стоит в самом начале строки). Перед бинарной операцией, напротив, всегда стоит либо операнд (число/переменная), либо закрывающая скобка. Таким образом, достаточно завести какой-нибудь флаг для указания того, может ли следующая операция быть унарной или нет.</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Ещё чисто реализационная тонкость — как различать унарные и бинарные операции при извлечении из стека и вычислении. Здесь можно, например, для унарных операций вместо символа s[i] класть в стек -s[i].</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Приоритет для унарных операций нужно выбирать таким, чтобы он был больше приоритетов всех бинарных операций.</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Кроме того, надо заметить, что унарные операции фактически являются правоассоциативными — если подряд идут несколько унарных операций, то они должны обрабатываться справа налево (для описания этого случая см. ниже; приведённый здесь код уже учитывает правоассоциативность).</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Реализация для бинарных операций + - * / % и унарных операций + -:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">bool</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> delim </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">char</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> c</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">return</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> c == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">' '</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">bool</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> is_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">char</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> c</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">return</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> c==</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'+'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || c==</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'-'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || c==</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'*'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || c==</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'/'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || c==</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'%'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> priority </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">char</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> op</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">if</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op &lt; </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">0</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">return</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">4</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">; </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#808080;">// op == -'+' || op == -'-'</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">return</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		op == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'+'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || op == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'-'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> ? </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">1</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> :</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		op == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'*'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || op == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'/'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> || op == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'%'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> ? </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">2</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> :</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		-</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">1</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">void</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> process_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">vector&lt;</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">&gt; &amp; st, </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">char</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> op</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">if</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op &lt; </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">0</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> l = st.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  st.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">switch</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">-op</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">case</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'+'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">:  st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">l</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">break</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">case</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'-'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">:  st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">-l</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">break</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">else</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> r = st.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  st.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> l = st.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  st.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">switch</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">case</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'+'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">:  st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">l + r</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">break</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">case</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'-'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">:  st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">l - r</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">break</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">case</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'*'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">:  st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">l * r</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">break</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">case</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'/'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">:  st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">l / r</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">break</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">case</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'%'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">:  st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">l % r</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;  </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">break</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> calc </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">string &amp; s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">bool</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> may_unary = </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; font-weight:600; color:#000000;">true</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	vector&lt;</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">&gt; st;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	vector&lt;</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">char</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">&gt; op;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">for</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">size_t</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> i=</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">0</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">; i&lt;s.length</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">; ++i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">if</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">!delim </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">if</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'('</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				op.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'('</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				may_unary = </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; font-weight:600; color:#000000;">true</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">else</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">if</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> == </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">')'</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">while</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> != </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff0000;">'('</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					process_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">st, op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">,  op.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				op.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				may_unary = </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; font-weight:600; color:#000000;">false</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">else</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">if</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">is_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]))</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">char</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> curop = s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">if</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">may_unary &amp;&amp; isunary </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">curop</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">))</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">  curop = -curop;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">while</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">!op.empty</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &amp;&amp; </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					curop &gt;= </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">0</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &amp;&amp; priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &gt;= priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">curop</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					|| curop &lt; </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">0</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &amp;&amp; priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &gt; priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">curop</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					process_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">st, op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">,  op.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				op.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">curop</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				may_unary = </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; font-weight:600; color:#000000;">true</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">else</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				string operand;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">while</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i &lt; s.length</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &amp;&amp; </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#000066;">isalnum</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">])))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					operand += s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">i++</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				--i;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">if</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#000066;">isdigit</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">operand</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">[</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">0</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">]))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#000066;">atoi</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">operand.c_str</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()))</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">else</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					st.push_back </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">get_variable_val </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">operand</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">))</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				may_unary = </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; font-weight:600; color:#000000;">false</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">			</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">while</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">!op.empty</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">		process_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">st, op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">,  op.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">	</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">return</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> st.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Стоит заметить, что в простейших случаях, например, когда из унарных операций разрешены только + и -, правоассоциативность не играет никакой роли, поэтому в таких ситуациях никаких усложнений в схему можно не вводить. Т.е. цикл:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb; background-color:#f0f0f0;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">while</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">!op.empty</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &amp;&amp; </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					curop &gt;= </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">0</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &amp;&amp; priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &gt;= priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">curop</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					|| curop &lt; </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#ff33ff;">0</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &amp;&amp; priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &gt; priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">curop</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					process_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">st, op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">,  op.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Можно заменить на:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb; background-color:#f0f0f0;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">while</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">!op.empty</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &amp;&amp; priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &gt;= priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">curop</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">))</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					process_op </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">st, op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">,  op.pop_back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Arial'; font-size:10pt; color:#222222;"><br /></p>
<h2 style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="header_4"></a><span style=" font-family:'Arial'; font-size:10pt; font-weight:600; color:#660000;">П</span><span style=" font-family:'Arial'; font-size:10pt; font-weight:600; color:#660000;">равоассоциативность</span></h2>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Правоассоциативность оператора означает, что при равенстве приоритетов операторы вычисляются справа налево (соотвественно, левоассоциативность - когда слева направо).</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Как уже было отмечено выше, унарные операторы обычно являются правоассоциативными. Другой пример - обычно операция возведения в степень считается правоассоциативной (действительно, a^b^c обычно воспринимается как a^(b^c), а не (a^b)^c).</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Какие отличия нужно внести в алгоритм, чтобы корректно обрабатывать правоассоциативность? На самом деле, изменения нужны самые минимальные. Единственное отличие будет проявляться только при равенстве приоритетов, и заключается оно в том, что операции с равным приоритетом, находящиеся на вершине стека, не должны выполнять раньше текущей операции.</span></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">Таким образом, единственные отличия нужно внести в функцию calc:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#f63333;">int</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> calc </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">string &amp; s</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">				</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#a1a100;">while</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">!op.empty</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">()</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &amp;&amp; </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					left_assoc</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">curop</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &amp;&amp; priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &gt;= priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">curop</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">					|| !left_assoc</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">curop</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &amp;&amp; priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">op.back</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">())</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;"> &gt; priority</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">(</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">curop</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">)))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#0000bb;">...</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:10pt; color:#66cc66;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; font-weight:600; color:#222222;">Примечание</span><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">: в этой статье описана обратная польская нотация. Однако существует и прямая польская нотация. Парсер на C++, реализованный на основе прямой польской нотации, приведен в статье: </span><a href="mytetra://note/1626418975rml1lakp07"><span style=" font-family:'Arial'; font-size:10pt; text-decoration: underline; color:#0000ff;">Рабочий пример простого парсера математических выражений</span></a><span style=" font-family:'Arial'; font-size:10pt; color:#222222;">.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Arial'; font-size:10pt; color:#222222;"><br /></p>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:10pt; color:#222222;"> </span></p></body></html>