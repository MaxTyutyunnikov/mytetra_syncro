<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В редакторе Kate/KWrite имеется режим замены последовательностей символов в тексте. Казалось бы, его можно использовать для того, чтобы удалять пустые строки из текста. Но проблема в том, что такой функционал в Kate/KWrite просто не предусмотрен.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Например, если выбрать поиск регулярных выражений, в строке поиска ввести <span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">^$</span>, а строку замены оставить пустой, то при нажатии &quot;Заменить все&quot; ничего не произойдет. Да, пустые строки будут найдены, но Kate/KWrite считает, что пустая строка - это эквивалент отсутствия строки, и не будет удалять пустую строку. Как обойти эту проблему?</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">По сути, никак. Единственная возможность - это воспользоваться другими программами. Можно поиграться с консольными командами, вариантов на самом деле множество - и <span style=" font-family:'FreeMono'; color:#6a1009;">sed</span>, и <span style=" font-family:'FreeMono'; color:#6a1009;">perl</span> и <span style=" font-family:'FreeMono'; color:#6a1009;">tr</span> и чего там только нет. Но если не хочется заморачиваться с консолью, удаление пустых строк можно сделать через LibreOffice/OpenOffice.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:111px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Внимание!</span> Метод удаления пустых строк в Kate таки существует. См. обновление данной статьи далее по тексту.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вначале в редакторе Kate/KWrite необходимо скопировать нужный фрагмент текста в буфер обмена. Затем в LibreOffice/OpenOffice необходимо вставить данный текст так, чтобы не &quot;съедались&quot; пробелы в начале строк (это требуется, например для форматированного отступами кода). Такой режим вставки вызывается в консольном меню &quot;Вставить как&quot; - &quot;Только текст&quot;.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Затем в L</span>ibreOffice/OpenOffice выбирается пункт меню &quot;Найти и заменить&quot; (Ctrl+H). </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1679990941jh73i1lyoo.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В открывшемся окне надо установить галку &quot;Регулярные выражения&quot;, и в поле &quot;Найти&quot; надо ввести уже знакомый шаблон поиска <span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">^$</span>. Поле &quot;Заменить&quot; необходимо оставить пустым. После чего следует нажать кнопку &quot;Заменить все&quot; (для глобального удаления пустых строк) или &quot;Заменить&quot; (для выборочного удаления пустых строк).</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:114px; -qt-block-indent:0; text-indent:0px;">Этот режим по своей сути полностью эквивалентен такому же режиму в Kate/KWrite, отличие состоит только в том, что пустые строки будут удаляться.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">После удаления пустых строк, текст выделяется, копируется и вставляется обратно в Kate/KWrite.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Да, такой метод совершенно неудобный, зато предельно простой и понятный даже для начинающих пользователей ОС Linux.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">UPD спустя месяц</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Алекс - Юстасу. Секретный метод поиска и замены пустых строк в редакторе Kate следующий. Метод основан на том, что в регулярных выражениях есть два очень близких понятия: &quot;конец строки&quot; и &quot;перевод строки&quot;. Конец строки обозначается символом <span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">$</span>, а перевод строки - так же как и в традиционных языках программирования - символами <span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">\n</span>. Для удаления пустой строки нужно искать не пустые строки, содержащие начало строки и сразу конец строки, а пустые строки, содержащие начало строки и сразу перевод строки.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Таким образом, для удаления пустых строк в Kate, надо в панели поиска/замены текста перейти в режим &quot;Регулярное выражение&quot;. В поле &quot;Искать&quot; надо ввести символы <span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">^\n</span>, а поле &quot;Заменить на&quot; оставить пустым. С такими настройками пустые строки будут удалены.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>