<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Как то год назад когда я покупал сервер ml 1</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">10 g6 то столкнулся с проблемой установки linux на hp raid под названием SA RAID Controller B110i тогда у меня ничего не вышло по причине драйверов от HP которые слетали при первой же возможности. В тоге я плюнул и просто сделал soft raid ... </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Потом я приобрел другой сервер (hp proliant ml 350 g5) с нормальным аппаратным raid контроллером HP Smart Array P400/256MB - на нем я даже и не заметил каких то проблем с установкой чего бы то нибыло...</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вот недавно купил еще один сервер hp proliant DL 120 G7 - на борту у которого все тот же злополучный B110i.... Я по привычке уже начал было дробить диски под всякие MD разделы НО все таки решил попробовать снова поставить систему на этот raid. УРА - ПОЛУЧИЛОСЬ!!</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Наконец-то ребята из HP все таки сделали нормальные дрова которые корректно ставятся в систему и не слетают даже после kernel update.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вкратце, вот пошаговая инструкция установки с учетом тех косяков на которые наткнулся:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В bios выставляем RAID и затем в bios raid controller конфигурируем наши массивы - там только RAID0 и RAID1+0 .... </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Забираем с сайта HP дрова (там их 2 разных комплекта RPM и ... DD.GZIP) нам нужен архив с DD</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Я ставился с USB - поэтому я подготовил 2 флешки на одну залил ISO CentOS netinstall на вторую залил содержимое файлика DD.IMG который находился в архиве .......dd.gzip с сайта HP - в итоге внутри этого dd.img были rpm и xml под авто инстал.</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Грузимся с инсталяционной флешки но добавляем ключи при загрузке: linux dd blacklist=ahci </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Система первым делом спросит про дрова - показываем ей вторую флешку (например sdb) - система сама хватает то что на флешке и без вопросов их ставит</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Будете устанавливать еще драйвера для других устройств? спросит установщик - и вот тут очень важно ВЫТАЩИТЬ флешку с дровами, отказаться и продолжить установку дальше.... </li></ol>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ну собственно  и все .... CentOS будет видить только HP LOGICAL DRIVER и вроде все работает ровно... тфу тфу...</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">P.S. корень и /boot ставил в райд. Grub тоже поставил в MBR райдового диска - все грузится и работает....</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>