<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Все </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/intro.html"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">возможности сервера</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> настраиваются через конфигурационные файлы. Ниже приведено описание используемых для этого директив. (Описание конфигурации старых версий (PL16 и старше) вынесено в </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure-old.html"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">отдельный документ</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Некоторые замечания </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Все директивы, кроме <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetdecl"><span style=" text-decoration: underline; color:#0000ff;">CharsetDecl</span></a>, <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetrecodetable"><span style=" text-decoration: underline; color:#0000ff;">CharsetRecodeTable</span></a> и <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetwiderecodetable"><span style=" text-decoration: underline; color:#0000ff;">CharsetWideRecodeTable</span></a> могут быть записаны где угодно - в конфигурации сервера, виртуального сервера, в &lt;Directory&gt;, &lt;Location&gt;, .htaccess. Директивы <span style=" font-weight:600;">CharsetDecl</span> и <span style=" font-weight:600;">CharsetRecodeTable</span> могут быть указаны только в конфигурации сервера или виртуального сервера. </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">При использовании директив в &lt;Directory&gt;, &lt;Location&gt; или .htaccess действует следущее правило - если определена какая-то из директив (скажем, <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetagent"><span style=" text-decoration: underline; color:#0000ff;">CharsetAgent</span></a>), то все &quot;вышележащие&quot; директивы с этим именем не действуют. Это отличается от стандартного поведения Apache (когда содержимое директив &quot;дописывается&quot; (merge) т.е. определение в .htaccess работает абсолютно так же, как если бы эта директива стояла сразу после директивы с тем же именем в httpd.conf). Отклонение от стандарта объясняется очень просто - имея &quot;перезаписывание&quot; сделать эмуляцию &quot;дописывания&quot; очень просто (нужно просто скопировать нужные строчки из вышележащего .htaccess или из httpd.conf), тогда как обратное неверно.</li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td colspan="2">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Все директивы</span></p></td></tr>
<tr>
<td style=" vertical-align:top;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Объявление таблиц перекодировки:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p></td>
<td style=" vertical-align:top;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetdecl"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetDecl</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetrecodetable"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetRecodeTable</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetwiderecodetable"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetWideRecodeTable</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetalias"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetAlias</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p></td></tr>
<tr>
<td style=" vertical-align:top;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Определение клиентской кодировки:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p></td>
<td style=" vertical-align:top;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetpriority"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetPriority</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetdefault"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetDefault</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetbyport"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetByPort</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetagent"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetAgent</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetstricturimatch"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetStrictURIMatch</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#control-env-vars"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">переменная FORCE_CHARSET</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p></td></tr>
<tr>
<td style=" vertical-align:top;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Определение кодировки на сервере:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p></td>
<td style=" vertical-align:top;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetsourceenc"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSourceEnc</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetbyextension"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetByExtension</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#control-env-vars"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">переменная FORCE_SOURCE_CHARSET</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p></td></tr>
<tr>
<td style=" vertical-align:top;"></td>
<td></td></tr>
<tr>
<td style=" vertical-align:top;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Автоматический редирект:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p></td>
<td style=" vertical-align:top;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetautoredirect"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetAutoRedirect</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetnormalizetourl"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetNormalizeToURL</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetnormalizetypesl"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetNormalizeTypes</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetredirectfromoriginalurl"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetRedirectFromOriginalURL</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetnoautoredirectfordefaultcharset"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetNoAutoRedirectForDefaultCharset</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p></td></tr>
<tr>
<td style=" vertical-align:top;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Разное:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p></td>
<td style=" vertical-align:top;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetprocesstype"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetProcessType</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetbrokenaccept"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetBrokenAccept</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetbadagent"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetBadAgent</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charseterrreject"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetErrReject</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetmatchlanguage"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetUseMultiViews</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetrecodeheaders"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetRecodeHeaders</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetturnoff"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetDisable</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetrecodefilenames"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetRecodeFilenames</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetsoftredirect"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSoftRedirect</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetsoftredirectpermanent"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSoftRedirectPermanent</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetsoftredirecttemp"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSoftRedirectTemp</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetoverrideexpires"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetOverrideExpires</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetdisableforcedexpires"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetDisableForcedExpires</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetrecodemethods"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetRecodeMethodsIn/Out</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetrecodemultipartforms"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetRecodeMultipartForms</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetdisableacceptcharset"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetDisableAcceptCharset</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p></td></tr></table>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:14pt; font-weight:600;">Директивы, используемые для конфигурации </span></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="charsets"></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">О</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">бъявления Charsets (кодировок) и таблиц перекодировки</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetDecl</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'FreeMono'; color:#6a1009;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Служит для объявления character set (charset, в русском языке утвердился термин &quot;кодировка&quot;) и указания соответствующего ему Language. В дальнейших директивах в качестве имени charset можно указывать только одно из объявленных ранее имен.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> никаких умолчаний нет</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">       CharsetDecl CharsetName Language [Flags]</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetName </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Официальное название кодировки (например windows-1251, koi8-r, ibm866, iso8859-5 и.т.д.). Используется в остальных директивах при ссылках на данную кодировку и при выдаче документа клиенту в заголовке Content-type: text/html; charset=CharsetName </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Language </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Название языка, к которому принадлежит данная кодировка. Это название должно быть определено в conf/srm.conf в директивах AddLanguage и LanguagePriority. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Flags </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Поддерживается начиная с PL22</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. Необязательное поле, описывающее параметры данного charset. Возможные значения: </span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">S - (от Suppress) - подавить выдачу charset=... для данного Charset. </li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Примеры </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetDecl iso-8859-5  ru</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetDecl ibm866  ru</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetDecl windows-1251  ru</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetDecl koi8-r  ru</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetDecl koi7 ru S</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">       </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Каждая директива описывает только один charset. Если существует несколько виртуальных серверов то каждый виртуальный сервер &quot;наследует&quot; описания Charset от основного сервера только если в директиве &lt;VirtualServer&gt; не описано ни одного </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetDecl</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> и нет ни одной директивы </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetrecodetable"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetRecodeTable</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Директивы CharsetDecl должны находиться в конфигурационном файле раньше всех прочих директив модуля. </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetRecodeTable</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Служит для описания правил перекодировки из одной кодировки в другую.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> никаких умолчаний нет</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetRecodeTable Charset1 Charset2 table_from [table_to]</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Charset1, Charset2 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Два названия Charset (описанных ранее директивой Charset), перекодировка между которыми описывается. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">table_from </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Имя файла с таблицей, описывающей перекодировку из Charset1 в Charset2. Имя файла указывается относительно корневой директории сервера ($SERVERROOT). </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">table_to </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Имя файла с таблицей, описывающей перекодировку из Charset2 в Charset1. Может отсутствовать, тогда сервер сгенерирует таблицу, обратную table_from автоматически. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Для каждой пары Charset возможно два описания </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetRecodeTable</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">, которые являются эквивалентными. Две нижеприведенные директивы полностью одинаковы по своему эффекту: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetRecodeTable koi8-r windows-1251 koi-win.tab win-koi.tab</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetRecodeTable windows-1251 koi8-r win-koi.tab koi-win.tab</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Какую из них использовать - дело вкуса. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Если в конфигурации сервера указано несколько эквивалентных директив, то в работе будет использована последняя из них. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Если в конфигурации виртуального сервера есть хотя бы одна директива </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetdecl"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetDecl</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> или </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetRecodeTable</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">, то описания CharsetDecl/CharsetRecodeTable </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">не наследуются от основного сервера</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetWideRecodeTable </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Служит для описания правил перекодировки в формате </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">символ -&gt; строка</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (например для поддержки транслитерации).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> никаких умолчаний нет</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetWideRecodeTable CharsetFrom CharsetTo table</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetFrom, CharsetTo </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Два названия Charset (описанных ранее директивой Charset), перекодировка между которыми описывается. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">table </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Имя файла с таблицей, описывающей перекодировку из Charset1 в Charset2. Имя файла указывается относительно корневой директории сервера ($SERVERROOT). Формат файла очень простой - на каждой строке записывается перекодируемая буква и через пробел соответствующая ей строка </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Например: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetWideRecodeTable koi8-r koi7 conf/koi-tran.tab</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Если в конфигурации сервера указано несколько эквивалентных директив, то в работе будет использована последняя из них. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">В отличия от директивы CharsetRecodeTable, таблица обратной перекодировки (из CharsetTo в CharsetFrom) не строится автоматически. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetAlias </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Служит для описания имен псевдонимов указанных charset.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> никаких умолчаний нет</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetAlias Oficial_Name Alias1 Alias2 Alias3 ...</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Oficial_Name </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Официальное имя описываемого charset. Должно быть определено до данной директивы директивой </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetdecl"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetDecl</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Alias1 Alias2 ... </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Имена псевдонимов для данного charset. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Примеры: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetAlias iso_8859-5:1988 iso-ir-144 iso_8859-5 cyrillic iso-8859-5</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetAlias iso_8859-5:1988 iso8859-5 iso-8859.5 iso8859.5 iso</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetAlias ibm866 csibm866 866 cp866 x-cp866 x-ibm866 cp-866 alt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetAlias windows-1251 win x-cp1251 cp1251 cp-1251</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">       </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Псевдонимы используются при определении кодировки клиента по заголовкам Accept:, Accept-Charset:, по server-hostname prefix и по URI prefix (см. директиву </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetselectionorder"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSelectionOrder</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">). </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="client"></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Д</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">ирективы, отвечающие за определение клиентской кодировки</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style="-qt-paragraph-type:empty; margin-top:8px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetSelectionOrder </span></p>
<p style="-qt-paragraph-type:empty; margin-top:8px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива определяет порядок применения правил определения charset, в котором документ будет отдан клиенту.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetSelectionOrder Portnumber Hostname URIHostname EnvVariable Dirprefix Useragent</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetSelectionOrder Rule1 Rule2 Rule3 ...</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Rule1, Rule2, Rule3 </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">строка, определяющая порядок анализа различных параметров запроса на предмет определения клиентских предпочтений. В качестве имени Rule могут быть использованы: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Portnumber - определять charset по номеру порта к которому обратились. Соответствие кодировки и номера порта описывается директивой <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetbyport"><span style=" text-decoration: underline; color:#0000ff;">CharsetByPort</span></a>. Возможность связать номер порта с кодировкой появилась начиная с версии PL20.2. </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Hostname - определять charset по подстроке в hostname сервера. Т.е. если hostname (до первой точки) сервера <span style=" font-weight:600;">начинается</span> с имени charset или его alias, то в качестве клиентского charset будет выбран именно он (т.е. при обращении к хосту win-www.domain будет выбрана кодировка с именем/алиасом win). </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">URIHostname - аналогично Hostname, но с именами charset сравнивается не каноническое имя сервера, а имя, полученное в заголовке Host: от клиента примеры использования можно посмотреть в разделе <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/notes.html#urihostname"><span style=" text-decoration: underline; color:#0000ff;">рекомендации</span></a>. <span style=" font-style:italic;">Это правило поддерживается начиная с PL26.0</span>. </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">EnvVariable - предназначена для взаимодействия со внешними модулями определения кодировки. Такие модули должны присвоить переменной окружения FORCE_CHARSET значение имени необходимого charset. Примеры использования совместно с mod_rewrite есть в разделе <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/notes.html#EnvVariable"><span style=" text-decoration: underline; color:#0000ff;">рекомендации</span></a>. <span style=" font-style:italic;">Это правило поддерживается начиная с PL26.0</span>. </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Dirprefix - определять charset по Directory prefix. Т.е. если первая часть URI (между 1-м и 2-м '/' или между /~username/ и 3-м slash) совпадает с именем или алиасом какого-то charset, то в качестве клиентского charset будет выбран именно этот charset. </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Useragent - определять charset по HTTP-заголовку User-Agent (см директиву <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetagent"><span style=" text-decoration: underline; color:#0000ff;">CharsetAgent</span></a>). </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Замечания по использованию</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">При определении charset, в котором документ будет отдан пользователю сначала анализируются HTTP-заголовки Accept-Charset и Accept (второй - если эта возможность включена при компиляции сервера, см <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/install.html"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">рекомендации по установке</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">). Если эти заголовки присутствуют и запрошенный charset известен (виртуальному) серверу, то документ будет отдан в соответствии с просьбой клиента. Если запрошенный charset серверу неизвестен и не запрашивается &quot;любой&quot; charset (Accept-Charset: *), то поведение сервера зависит от наличия флага </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charseterrreject"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetErrReject</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> - если он установлен, то сервер вернет пользователю ошибку. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Если charset не может быть определен по Accept-Charset, то сервер делает попытку определить его в соответствии с директивой </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetSelectionOrder</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> в порядке, описанном этой директивой.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для определения (установки) по Hostname, первые символы hostname сервера (виртуального сервера) должны соответствовать имени или <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetalias"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">алиасу</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> какого-то из известных серверу charset.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для установки по Directory prefix, название или алиас какого-то из charset должны совпасть с первым элементом path в URL (для запроса вида /~username/path/to/file.html - совпасть с первым элементом пути после ~username).</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для определения клиентского charset по HTTP-заголовку User-Agent (т.е. по WWW-броузеру у пользователя) сервер ищет в заголовке User-Agent: одну из подстрок, указанных в директиве <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetagent"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetAgent</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetPriority </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Служит для определения приоритетов сконфигурированных charsets. Может иметь значение если в запросе клиента указаны равные весовые коэффициенты для различных charsets. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Старший из описанных этой директивой charset будет использован как &quot;charset по-умолчанию&quot; в том случае, когда такой charset не задан директивой <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetdefault"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetDefault</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> умолчаний нет</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetPriority Charset1 Charset2 Charset3 ...</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Charset1 Charset2 .. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Имена charset в порядке убывания приоритета (самый левый имеет высший приоритет). Все имена Charset должны быть определены до этой директивы с помощью директивы </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetdecl"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetDecl</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Пример: </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetPriority windows-1251 koi8-r ibm866 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">В именах charset должны использоваться только официальные имена, а не псевдонимы. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetDefault </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Определяет имя charset по-умолчанию для данного сервера.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Если </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetDefault</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> не определен, но определен </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetPriotity</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">, то будет использоваться charset с наибольшим приоритетом из </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetPriority</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetDefault Charset_Name</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Charset_Name </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Официальное имя charset по-умолчанию для данного сервера, определенное директивой </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetdecl"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetDecl</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Пример: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetDefault koi8-r</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Это тот charset, который будет выдаваться клиенту, если все другие способы определения не сработают. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetByPort</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL20.2) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива позволяет связать номер TCP-порта с кодировкой.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default: </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">никакого</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetByPort Charset_Name port_number</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Charset_Name </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Имя charset, описанного директивой </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetdecl"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetDecl</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">port_number </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Номер порта </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Пример: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetByPort koi8-r 8101</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">- при обращении к порту 8101 использовать кодировку koi8-r. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Эта директива тесно коррелирует с директивой <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetselectionorder"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSelectionOrder</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">, будте внимательны. Например, если у вас написано </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetSelectionOrder Hostname</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">, то директива </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetPort</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> не оказывает никакого воздействия на поведение сервера (равно как и CharsetAgent и т.п.). </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetAgent </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Определяет charset, который может быть использован при нахождении в запросе клиента подстроки, идентифицирующей данного клиента. Эта подстрока ищется в запросе клиента в поле User-Agent.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> умолчаний нет</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetAgent Charset_Name Pattern1 Pattern2 Pattern3 ...</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Charset_Name </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Официальное имя charset </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Pattern1 Pattern2 ... </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Шаблоны для поиска в запросе клиента в поле User-Agent. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Примеры: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetAgent windows-1251 AIR_Mosaic IWENG/1 MSIE WinMosaic (Windows (WinNT;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetAgent windows-1251 (Win16; (Win95; (16-bit)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetAgent koi8-r Arena Ariadna Macintosh OmniWeb Sextant PRD (X11</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetAgent ibm866 DosLynx</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">       </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Все Pattern являются подстроками, а не regexp выражениями. Если в заголовке User-Agent: содержится несколько подстрок, объявленных директивой CharsetAgent, то &quot;сработает&quot; самое длинное совпадение. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetStrictURIMatch</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с Pl21.3) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Определяет &quot;строгость&quot; правил, по которым hostname/directory name будут сравниваться с именами известных кодировок при выборе Charset по Hostname/Dirprefix.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetStrictURIMatch Off</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetStrictURIMatch On|Off</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Off </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">В режиме Off, кодировка по Hostname/Directory name будет выбрана, если первые символы Hostname/dirname совпадают с именем/алиасом какой-либо кодировки. Например, если серверу известна кодировка &quot;win&quot;, то при обращении к директории /winnuke/ будет выбрана именно эта кодировка (естественно, в соответствии с директивой </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetselectionorder"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSelectionOrder</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">On </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">В этом режиме поведение сервера более строгое. Он будет проверять соответствие имени кодировки и полной host part в имени сервера/ полное название директории. Т.е. при известной кодировке &quot;win&quot; и обращении к http://winnuke.somewhere.domain кодировка по hostname выбираться не будет. С именами директорий - аналогично. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="server"></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">П</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">равила обработки локальных файлов</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style="-qt-paragraph-type:empty; margin-top:8px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetSourceEnc </span></p>
<p style="-qt-paragraph-type:empty; margin-top:8px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Определяет charset, в котором документы хранятся на диске.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> умолчаний нет</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetSourceEnc Charsetname</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Charsetname </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Имя charset, описанное ранее директивой CharsetDecl </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Эта директива позволяет указать в какой кодировке находятся HTML/CGI/SSI файлы на диске. Она может быть определена в том числе и в .htaccess, что позволяет хранить дерево документов в произвольной смеси кодировок. См. также директиву </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetbyextension"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetByExtension</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> и описание переменной окружения </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#force_source"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">FORCE_SOURCE_CHARSET</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. Если кодировку хранения файла определить не удается (т.е. директивы </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetSourceEnc</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> и </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetByExtension</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> для данного расширения не указаны), то сервер вернет клиенту сообщение об ошибке и отругается в </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-style:italic;">error_log</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetByExtension </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Позволяет переопределить charset хранения для файлов с каким-либо расширением.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> умолчаний нет</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetByExtension Charsetname .ext1 .ext2 ....</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Charsetname </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Имя charset, описанное ранее директивой CharsetDecl </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">ext1,ext2,... </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Список расширений файлов, кодировкой хранения которых будет считаться Charset. Начальную точку в расширении можно указывать, а можно не указывать. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Эта директива позволяет указать в какой кодировке находятся файлы с определенным расширением. Директива имеет больший приоритет, чем CharsetSourceEnc. Если для данной директории она не определена, то используется (с тем же более высоким приоритетом) &quot;вышележащее&quot; определение (из .htaccess директории более высокого уровня или из httpd.conf). Чтобы отключить вышележащее определение нужно задать пустую директиву </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetByExtension</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. Расширение файла может содержать в себе любые символы, включая точку. Использование символа '/' как части расширения лишено смысла т.к. Apache считает, что '/' не может быть частью имени файла. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetProcessType</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL21.2) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Позволяет указать серверу, что перекодировке следует подвергать какие-то добавочные MIME-types, отличные от text/*.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> умолчаний нет, но сервер всегда будет перекодировать тип text/*</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetProcessType mime-type</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">mime-type </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">MIME-type в виде type/ или type/subtype, который тоже нужно перекодировать. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">В редких случаях перекодировать нужно не только файлы с mime-type text/*, но и что-то еще. В таком случае нужно перечислить mime-type таких файлов этой директивой. В директиве можно указать как конкретный тип (например, image/jpeg), так и целый класс (image/). Отрицание (тип, который не нужно обрабатывать) задается символом ! ( !type/). Параметры обрабатываются слева направо, поэтому все исключения из общего правила должны быть левее общего правила (как в примере ниже) </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Пример:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetProcessType image/jpeg application/ application/php !application/ !text/plain text/</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'FreeMono'; color:#6a1009;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetBrokenAccept</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL21.2) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Позволяет указать серверу комбинацию User-Agent/Accept-Charset, которую следует игнорировать при определении клиентской кодировки.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> умолчаний нет</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetBrokenAccept Agent-Substring accept_charset_string</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Agent-Substring </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Подстрока в заголовке User-Agent (т.е. типе клиентского software). </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">accept_chaeset_string </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Полная строка из заголовка Accept-Charset от данного клиентского software. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">В случае когда в заголовке </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">User-Agent</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> находится подстрока </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Agent-Substring</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> и заголовок </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Accept-Charset</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">, полученный от клиента полностью совпадает с </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">accept_charset_string</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">, сервер будет игнорировать заголовок Accept-Charset полученный от клиента и будет определять кодировку по прочим признакам. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Эта директива стала необходимой с появлением Netscape Communicator 4.x - по умолчанию эта программа посылает в заголовке Accept-Charset строку &quot;iso-8859-1,*,utf-8&quot;. В случае, когда один из сконфигурированных Charset имеет имя iso-8859-1, сервер всегда будет показывать клиенту эту кодировку, что не всегда правильно. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Пример:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetBrokenAccept &quot;Mozilla/4.&quot; &quot;iso-8859-1,*,utf-8&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'FreeMono'; color:#6a1009;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">AddHandler strip-meta-http </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'FreeMono'; color:#6a1009;"><br /></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива позволяет включить режим удаления тега &lt;META HTTP-EQUIV=..&gt; из HTML-файлов при передаче их клиенту.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> умолчаний нет</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> AddHandler strip-meta-http .ext1 .ext2 .....</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">AddHandler strip-meta-http </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">&quot;магические слова&quot;. На самом деле AddHandler - это директива mime_module, а strip-meta-http - название обработчика. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">ext1, ext2 </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Список расширений файлов из которых нужно выкусывать &lt;META HTTP-EQUIV...&gt; Эти файлы будут обрабатываться как обычный plain HTML (т.е. не как CGI и не как .shtml, вне зависимости от расширений). </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива предназначена для того, чтобы включить режим удаления тегов &lt;META HTTP-EQUIV...&gt; из документов, показываемых клиентам. Эти теги вставляет, например, Microsoft FrontPage. Рассуждениям на тему </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">почему</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> эти теги нужно выкусывать посвящен </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/meta-http.html"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">отдельный документ</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">). Если для одного расширения указано несколько AddHandler обработчиков, то какой из них сработает - зависит от конфигурации сервера. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="misc"></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Р</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">азное</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetBadAgent </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Некоторые клиентские программы не могут адекватно реагировать на MIME, например при получении заголовка </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> Content-type: text/html; charset=koi8-r; level=3</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Чтобы сервер не выдавал таким клиентским программам charset=... этих клиентов нужно описать директивой </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetBadAgent</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> умолчаний нет</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetBadAgent Pattern1 Pattern2 Pattern3 ...</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Pattern1 Pattern2 ... </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Подстрока в поле User-agent запроса клиента, при нахождении которой сервер будет воздерживаться от выдачи charset=... </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Пример: </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">BadAgent lynx/2.1 arena </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Все Pattern являются подстроками, а не regexp выражениями. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Как справедливо заметил </span><a href="https://web.archive.org/web/20070920014344/mailto:ache@nagual.pp.ru"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">Andrey Chernov</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">, указывать в этой директиве только название броузера, не указывая конкретной версии - значит нарываться на неприятности в будущем. К сожалению, до версии PL14 включительно, вместе с Apache-RUS распространялся &quot;дистрибутивный&quot; конфигурационный файл, в котором было сделано именно так (в BadAgent указаны lynx и MSIE). Начиная с версии PL15 это упущение исправлено. Правильная (на день написания этого текста) строка выглядит так: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetBadAgent arena Lynx/2.0 Lynx/2.1 Lynx/2.2 Lynx/2.3 Lynx/2.4 &quot;MSIE 2.0;&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetErrReject </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива служит для определения сервером действий при получении в запросе клиента неизвестного charset.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharestErrReject Off</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetErrReject On|Off</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">При установке этого параметра в On сервер не будет выдавать документ клиенту в случае невозможности удовлетворить запрос, полученный в заголовках Accept/Accept-Charset, а будет сообщать клиенту об ошибке в запросе. При установке в Off - попытается определить charset по другим параметрам (см директиву </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetselectionorder"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSelectionOrder</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">) и выдаст документ как сможет. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetUseMultiViews</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (старое название - CharsetMatchLanguage, переименована в PL25.6) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива определяет случаи, в которых сервер будет выдавать charset=xxx в заголовке Content-Type:.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default: </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetUseMultiViews Off (в версиях младше PL25.6 - On)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetUseMultiViews On|Off</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">При установке этого параметра в On (значение по умолчанию) сервер выдает charset=... в заголовке Content-Type при соблюдении всех трех условий: </span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Броузер клиента не является <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetbadagent"><span style=" text-decoration: underline; color:#0000ff;">&quot;bad agent&quot;</span></a> </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Включена опция MultiViews </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Language, описанный для данного типа документа директивой <span style=" font-weight:600;">AddLanguage</span> совпадает с language, описанным для выдаваемого charset директивой <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetdecl"><span style=" text-decoration: underline; color:#0000ff;">CharsetDecl</span></a> </li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">При установке флага в Off сервер проверяет только первое условие (соответствие User-Agent/bad-agent list). </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetRecodeHeaders</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL20) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива включает перекодировку заголовков выдаваемых в HTTP-response. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default: </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetRecodeHeaders Off</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetRecodeHeaders On|Off</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">При установке этого параметра в On будут перекодироваться выдаваемые сервером заголовки. По-умолчанию такой перекодировки не производится т.к. старые версии не перекодировали и возникают серьезные проблемы с совместимостью. Директиву нужно использовать, если в заголовках может быть русский текст (скажем, Location: /some.cgi?Вася) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetDisable</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (старое название - CharsetTurnOff, переименована в PL25.0) (работает начиная с PL20) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива выключает весь charset-processing module. Т.е. никакая перекодировка для данной &lt;Directory&gt;, &lt;Location&gt; и т.п. производиться не будет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default: </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetDisable Off</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetDisable On|Off</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Эта директива выключает перекодировки и AutoRedirect. При этом продолжают работать директивы </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetsoftredirect"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSoftRedirect*</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> и установка переменных CHARSET_HTTP_METHOD,CHARSET_SERVER_PORT, CHARSET_SERVER_NAME. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetRecodeFilenames</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL21) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива включает перекодировку имен файлов в HTTP-запросе.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default: </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetRecodeFilenames On </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-style:italic;">(для совместимости с прошлыми версиями)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetRecodeFilenames On|Off</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">При установке этого параметра в On будут перекодироваться имена файлов в URL. По умолчанию эта перекодировка производится (для совместимости с предыдущими версиями), однако эта перекодировка потенциально очень вредна и &quot;странно&quot; работает (все директивы класса Alias, Redirect и так далее получают неперекодированное имя, проверка прав тоже производится для неперекодированного имени, а потом оно перекодируется), поэтому поведение по-умолчанию может быть изменено после переходного периода.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Использование перекодировки имен файлов не рекомендуется. См. также <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/notes.html#russianfiles"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">некоторые замечания на эту тему</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetSoftRedirect</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL21.1) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива предназначена для замены директивы </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Redirect</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (из mod_alias) в случае работы с </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-style:italic;">&quot;перекодировкой по портам&quot;</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> никакого</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetSoftRedirect [status] old-url new-url</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Параметры:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">status </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">(необязательный параметр) - описывает HTTP status code, который будет передан клиенту. Возможные значения: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">permanent - Redirect возвращает статус 301 (permanent redirect) </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">temp - Redirect вернет статус 302 (temporary redirect) - это умолчание </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">seeother - статус 303 (See Other) </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">gone - статус 410 (Document removed) - указывает, что документа больше нет. В этом случае третий аргумент (new_url) должен отсутствовать. </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">old-url </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">&quot;старый&quot; URL - который должен быть перенаправлен. Указывается относительно Server-Root </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">new-url </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">&quot;новый&quot; URL - тот, который должен быть указан вместо старого. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Эта директива предназначена для замены стандартной директивы </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Redirect</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> в случае использования &quot;перекодировки по портам&quot;. Проблема стандартного Redirect заключается в том, что в качестве new-url нужно указывать URL полностью - с указанием протокола, имени сервера и порта. В то же время, при редиректах &quot;в пределах текущего сервера&quot; ни протокол, ни имя сервера, ни порт обычно не меняются для одного клиента, но могут быть разными для разных. </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetSoftRedirect</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> подставляет при редиректе текущие порт и hostname сервера. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Пример:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetSoftRedirect temp /index.html /new-index.html</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetSoftRedirectPermanent</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL21.1) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива предназначена для замены директивы RedirectPermanent (из mod_alias) в случае работы с </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-style:italic;">&quot;перекодировкой по портам&quot;</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> никакого</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetSoftRedirectPermanent old-url new-url</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Параметры:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">old-url </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">&quot;старый&quot; URL - который должен быть заредиректен. Указывается относительно Server-Root </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">new-url </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">&quot;новый&quot; URL - тот, который должен быть указан вместо старого. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива аналогична </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetsoftredirect"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSoftRedirect</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> permanent old-url new-url </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Пример:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetSoftRedirectPermanent /index.html /new-index.html</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetSoftRedirectTemp</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL21.1) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива предназначена для замены директивы RedirectTemp (из mod_alias) в случае работы с </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-style:italic;">&quot;перекодировкой по портам&quot;</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> никакого</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetSoftRedirectTemp old-url new-url</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Параметры:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">old-url </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">&quot;старый&quot; URL - который должен быть заредиректен. Указывается относительно Server-Root </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">new-url </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">&quot;новый&quot; URL - тот, который должен быть указан вместо старого. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива аналогична </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetsoftredirect"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSoftRedirect</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> temp old-url new-url </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Пример:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> CharsetSoftRedirectTemp /index.html /new-index.html</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">     </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetOverrideExpires</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL21.2) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива определяет поведение сервера в случае, когда документ должен быть сделать некэшируемым с помощью выдачи заголовка Expires:, но этот заголовок уже поставлен каким-то другим модулем. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">On</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetOverrideExpires On|Off</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">В режиме On сервер будет заменять значение заголовка Expires своим (обычно, 01 Jan 1970) в том случае, когда выдаваемый документ нужно сделать некэшируемым. В режиме Off будет оставаться значение, поставленное другими модулями или CGI-скриптом. </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Если никакого заголовка Expires другими модулями не поставлено и не включена директива </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600; font-style:italic;">CharsetDisableForcedExpires On</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">, то сервер </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600; font-style:italic;">выдаст</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;"> заголовок Expires: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetDisableForcedExpires</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL24.0) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива запрещает выдачу заголовка Expires: 1 Jan 1970 модулем русификации. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Off</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetDisableForcedExpires On|Off</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">В режиме Off (умолчание) сервер будет выдавать заголовок Expires: 1 Jan 1970 для всех документов, которые должны быть сделаны некэшируемыми (т.е. тех, в определении кодировки которых принимали участие данные, полученные от клиента - User-Agent или Accept-Charset не совпадающий с кодировкой, определенной по URL). Это - нормальное поведение сервера, если оно не устраивает для сервера в целом, то разумное решение проблемы описано в </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/faq.html"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">FAQ</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Однако Expires: бывает нужно запретить для отдельных документов, к ним относятся формы и framesets (в противном случае при reload или back пользователю будет показан начальный frameset или пустая форма). Только для этого режима работы и предназначена данная директива - если она включена для данного File/Location/etc, то Expires не выдается. <span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Использование CharsetDisableForcedExpires для сервера/директории в целом потенциально весьма разрушительно.</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetRecodeMethodsIn</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> &amp; </span><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetRecodeMethodsOut</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL23) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директивы включает/выключает перекодировку для индивидуальных типов запросов (GET, POST, PUT) соответственно в направлении клиент-&gt;сервер и обратно. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetRecodeMethods* ALL</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetRecodeMethodsIn method1 [method2 [method3 [..]]]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetRecodeMethodsOut method1 [method2 [method3 [..]]]</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">methodN - одно из ключевых слов GET, POST, PUT, ALL, NONE.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Вне зависимости от того, производятся ли реальные перекодировки или нет, в запросе (CGI-скрипте) доступны переменные CHARSET - кодировка клиента и SOURCE_CHARSET - &quot;кодировка сервера&quot; </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetRecodeMultipartForms</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL23) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива включает/выключает перекодировку для запросов типа POST с Content-Type: multipart/form-data. К таким запросам относится FileUpload, который нельзя перекодировать, если клиент передает двоичные данные. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">On</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetRecodeMultipartForms On|Off</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">В режиме On сервер будет перекодировать все запросы, в режиме Off - только запросы, Content-Type которых отличается от multipart/form-data. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetDisableAcceptCharset</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL27.0) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива запрещает обработку заголовка Accept-Charset и выдачу заголовка Vary: accept-charset </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Off</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetDisableAcceptCharset On|Off</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">В режиме Off (умолчание) сервер будет обрабатывать получаемый от пользователя заголовок Accept-Charset и выдавать документы в соответствии с ним. Одновременно выдается заголовок Vary: accept-charset, что отвечает стандарту HTTP/1.1. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">В режиме On заголовок Accept-Charset не обрабатывается, Vary не выдается. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Назначение</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. Директива предназначена для обхода ошибки в Microsoft Internet Explorer 4.0x. Этот броузер считает некэшируемыми все документы в которых есть Vary: accept-charset (что приемлемо, но слишком жестоко - документ не должен кэшироваться если Accept-Charset сменился между запросами). Как следствие, если заполнить форму, а потом нажать </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Back</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">, то форма будет перезапрошена с сервера и пользователь увидит ее пустой. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Использование CharsetDisableAcceptCharset для сервера с автоматическим выбором кодировки по броузеру клиента нарушает стандарты. Владельцы правильных броузеров (с Accept-Charset) не будут видеть правильной кодировки.</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="redirect"></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">А</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">втоматическое перенаправление (redirect) клиентов на URL </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">без автоматического выбора кодировки</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Автоматическое определение клиентской кодировки &quot;по броузеру&quot; удобно в эксплуатациии, но порождает проблему - выдаваемые документы не кэшируются ни транзитными proxy-серверами (почему нельзя кэшировать документы с определением кодировки по клиентскому броузеру написано </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/faq.html#expires"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">здесь</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Очевидно, что решением проблемы будет - определить клиентскую кодировку (по заданным директивой <a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetselectionorder"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSelectionOrder</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> правилам) и выдать HTTP-Redirect на документ в той же кодировке, но с правильным URL (например, с http://www.server.ru/ -&gt; http://www.server.ru/koi8-r/). Эта возможность появилась в Russian Apache начиная с версии PL28.0, для настройки такого поведения сервера используются следущие директивы: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:8px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:8px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">CharsetAutoRedirect</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> (работает начиная с PL28) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:8px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директивы включает выдачу Redirect на URL, кодировка которых не зависит от пользовательских броузеров. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">нету</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetAutoRedirect charset urlprefix</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">charset - одна из кодировок, известных серверу.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">urlprefix - то, что подставляется в начало запрошенного пользователем URL. Может иметь вид: </p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">http://server/dirprefix </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">http://server:port/dirprefix </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">:port </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">/dirprefix </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">none </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Редирект можно запретить, установив переменную окружения CHARSET_NOREDIRECT (например через BrowserMatch).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Пример: </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetAutoRedirect koi8-r http://server:8100/koi8-r/</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetAutoRedirect windows-1251 http://server:8101</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetAutoRedirect iso-8859-5  :8102</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetAutoRedirect ibm866 /ibm866</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Представим, что пришел запрос на http://server2/file.html. В этом случае, в зависимости от кодировки клиента, сервер выдаст запрос на один из следующих URL: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">http://server:8100/koi8-r/file.html - для кодировки KOI8-R </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">http://server:8101/file.html - для кодировки Windows-1251 </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">http://server2:8102/file.html - для кодировки ISO-8859-5 </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">http://server2/ibm866/file.html - для кодировки IBM866 </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Редирект выдается после определения клиентской кодировки, причем правила определения кодировки не меняются (и задаются через </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetselectionorder"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSelectionOrder</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">). Поэтому такая вот конфигурация: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetSelectionOrder Portnumber Useragent</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetByPort koi8-r 8101</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetByPort windows-1251 8100</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetAutoRedirect koi8-r :8100</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetAutoRedirect windows-1251 :8101</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">приведет к бесконечному зацикливанию. Если порт не указан, то он сохраняется при редиректе, поэтому если подразумевается порт по-умолчанию (80), то нужно явно писать http://server:80/. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="charsetnormalizetourl"></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">C</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">harsetNormalizeToURL (работает начиная с PL28) </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Директива предназначена для &quot;нормализации&quot; URL объектов, содержащих бинарные (т.е. неперекодируемые) данные. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">нет</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetNormalizeToURL urlprefix [minimal-size]</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">urlprefix - URL с которого должен начинаться канонический URL бинарного документа. </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">http://server/dirprefix </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">http://server:port/dirprefix </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">:port </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">/dirprefix </li>
<li style=" font-family:'DejaVu LGC Sans'; font-size:12pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">none </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">minimal-size - минимальный размер документа, для которого нужно производить &quot;нормализацию&quot; URL. По-умолчанию, 0 байт.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Редирект можно запретить, установив переменную окружения CHARSET_NOREDIRECT (например через BrowserMatch).</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Пример: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetNormalizeToURL :80 200</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Данная директива заставляет сервер выдавать редирект на все запросы к бинарным (неперекодируемым) данным, размер которых больше 200 байт. Скажем, если был запрос к http://server:8100/bigimage.gif, то будет выдан редирект на http://server:80/bigimage.gif. Это нужно для того, чтобы бинарные данные не оседали в кэшах во многих экземплярах.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если порт не указан, то он сохраняется при редиректе, поэтому если подразумевается порт по-умолчанию (80), то нужно явно писать http://server:80/.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">С помощью этой директивы легко реализовать отдельный &quot;сервер картинок&quot; т.е. перенаправить все запросы к картинкам на другую машину: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetNormalizeToURL http://images.mydomain.ru </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Редиректы выдаются только для MIME-types, описанных директивой </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetnormalizetypes"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetNormalizeTypes</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="charsetnormalizetypesl"></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">C</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">harsetNormalizeTypes (работает начиная с PL28) </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Определяет MIME-types, для которых будет выполняться нормализация URL (см. </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetnormalizetourl"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetNormalizeToURL</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">). </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">нет</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetNormalizeTypes type1/ type2/subtype type3/ !type4/subtype type4/ type5/subtype !type5/</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Синтаксис и логика перечисления mime-types аналогичны директиве </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetprocesstype"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetProcessType</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. Пример: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetNormalizeTypes application/zip video/mpeg image/ </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="charsetredirectfromoriginalurl"></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">C</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">harsetRedirectFromOriginalURL (работает начиная с PL28.7) </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Определяет URL относительно которого будет производиться redirect. Директива имеет смысл, если URL поменялся в процессе обработки каким-либо модулем Apache (например, mod_rewrite), если URL не менялся, то никакого влияния не будет. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Off</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetRedirectFromOriginalURL On|Off</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Эта директива имеет значение, если в процессе обработки запроса сервером оригинальный был изменен на какой-либо еще (например, через RewriteRule с флагом PT). Если флаг </span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">CharsetRedirectFromOriginalURL</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> имеет значение Off, то редирект, определенный директивой </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetautoredirect"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetAutoRedirect</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> будет производится относительно нового (измененного) URL, если On, то относительно оригинального (введенного пользователем) URL. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="charsetnoautoredirectfordefaultcharset"></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">C</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">harsetNoAutoRedirectForDefaultCharset (работает начиная с PL28.16) </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Определяет, производить ли AutoRedirect, если кодировка клиента определена не по содержимому запроса (т.е. не по URL/AcceptCharset/UserAgent, а по CharsetDefault/CharsetPriority). </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Context:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> сервер, виртуальный сервер, &lt;Directory&gt;, &lt;Location&gt;, .htaccess</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Default:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Off</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Синтаксис:</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CharsetNoAutoRedirectForDefaultCharset On|Off</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Назначение этой директивы - не производить редиректа, если клиент пришел на URL c автоматическим выбором кодировки без заголовка Accept-Charset и с неизвестным (не описанным директивой </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetagent"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetAgent</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">) User-Agent. Наиболее типичный пример - поисковая система. Если эта директива включена, то такой клиент получит требуемый документ. Если выключена - редирект на &quot;кэшируемый&quot; URL с этим документом. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">  </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="control-env-vars"></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">У</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">правление перекодировками из других модулей.</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">При необходимости явно задать кодировку хранения документа (из которой производится перекодирование), либо кодировку клиента (в которую производится перекодирование) другие модули могут использовать такие переменные окружения (в r-&lt;subprocess_env): </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">FORCE_CHARSET </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Устанавливает кодировку клиента, если это разрешено директивой конфигурации </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetselectionorder"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSelectionOrder</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">FORCE_SOURCE_CHARSET </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Устанавливает исходную (&quot;на диске&quot;) кодировку документа. Имеет больший приоритет, чем </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetsourceenc"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetSourceEnc</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> и </span><a href="https://web.archive.org/web/20070920014344/http://mitya.pp.ru/ru-apache/configure.html#charsetbyextension"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; text-decoration: underline; color:#0000ff;">CharsetByExtension</span></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">  </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="env-vars"></a><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">Д</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt; font-weight:600;">ополнительные переменные окружения CGI-скриптов</span><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Для удобства написания нетривиальных CGI-скриптов, сервер добавляет несколько дополнительных переменных окружения, доступных как для CGI, так и для модулей. </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CHARSET </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">в этой переменной содержится &quot;официальное&quot; название кодировки клиента т.е. той, в которой документ будет отдан после перекодировки. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">SOURCE_CHARSET </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Кодировка исходного документа (по мнению сервера). Для CGI-скриптов это означает, что их вывод должен быть в этом charset. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CHARSET_SERVER_NAME </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Имя сервера и номер порта в формате www.domain:1234</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Эту переменную пришлось добавить т.к. в переменной HTTP_HOST содержится то, что сервер получил в заголовке Host:, а в переменной SERVER_PORT - номер порта, сконфигурированный директивой Port. Что никак не может устроить. </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CHARSET_SERVER_PORT </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Номер порта к которому был текущий запрос </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CHARSET_HTTP_METHOD </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">http:// или https://. Т.е. полный URL запроса восстанавливается как ${CHARSET_HTTP_METHOD}${CHARSET_SERVER_NAME}${REQUEST_URI} </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CHARSET_SAVED_QUERY_STRING </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">значение переменной QUERY_STRING до перекодировки </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">CHARSET_SAVED_PATH_INFO </span></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">значение переменной PATH_INFO до перекодировки </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu LGC Sans'; font-size:12pt;">Переменные CHARSET и SOURCE_CHARSET ставятся сервером только если mod_charset &quot;включен&quot; (CharsetDisable Off), остальные три переменные ставятся всегда. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu LGC Sans'; font-size:12pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>