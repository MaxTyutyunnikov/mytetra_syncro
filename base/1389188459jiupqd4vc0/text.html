<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">Подготовка Androi-приложения для публикации</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">Криптографические ключи</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"><br />Для операционной системы Android существует требование, чтобы каждое устанавливаемое из Маркета приложение обязательно было подписано сертификатом разработчика (для отладочных сборок и сборок, распространяемых просто как APK-файл подпись необязательна).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Система подписки приложения используется как средство идентификации разработчика и как способ установления доверительных отношений между приложениями, разработанными одним и тем же разработчиком. Хорошая новость в том, что сертификат, который вы можете использовать, </span><span style=" font-size:10pt; font-weight:600;">не обязан быть удостоверен центрами сертификации</span><span style=" font-size:10pt;">, допускается использование </span><span style=" font-size:10pt; font-weight:600;">самоподписанных сертификатов</span><span style=" font-size:10pt;">. То есть, сертификат можно сгенерировать локально независимо ни от кого, и он будет принят Маркетом. Более детальную информацию о сертификатах в ОС Android можно найти на </span><a href="http://developer.android.com/guide/publishing/app-signing.html"><span style=" font-size:10pt; text-decoration: underline; color:#0057ae;">данной странице</span></a><span style=" font-size:10pt;"> официальной документации.<br /><br />Для подписывания приложения можно создать самоподписанный сертификат, удовлетворяющий следующим требованиям большинства систем распространения приложений (Google Market, F-Droid и т.д.):<br /></span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:10pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Срок его действия превышает предполагаемое время жизни приложения или набора приложений, рекомендованный срок: более 25 лет.</li>
<li style=" font-size:10pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Этот ключ не был сгенерирован Android SDK как ключ для отладки приложения. Не забывайте, что закрытая (т. е. приватная) часть ключа не должна передаваться третьим лицам!</li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Ключ можно создать с использованием приложения keytool, поставляемого вместе с Android SDK. Чтобы создать ключ, удовлетворяющий всем требованиям, необходимо выполнить следующую команду:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:10pt; color:#6a0e07;">keytool -genkey -v -keystore my-release-key.keystore -alias release -keyalg RSA -keysize 2048 -validity 10000</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; font-size:10pt; color:#6a0e07;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Рассмотрим все опции команды боле детально. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:10pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">-genkey говорит о том, что необходимо сгенерировать новую пару из открытого и закрытого ключей. </li>
<li style=" font-size:10pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">-v — отображать ход выполнения команды. </li>
<li style=" font-size:10pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">-keystore my-release-key.keystore — сохранить эти ключи в хранилище &quot;my-release-key.keystore&quot;. </li>
<li style=" font-size:10pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">-alias release — присвоить новой паре псевдоним release, название псевдонима ограничено всего 8 символами. </li>
<li style=" font-size:10pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">-keyalg RSA — создать пару ключей, пригодных для применения алгоритма шифрования RSA. </li>
<li style=" font-size:10pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">-keysize 2048 — размер ключа должен составить 2048 бит, этого значения вполне достаточно для генерации безопасного ключа. </li>
<li style=" font-size:10pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">-validity 10000 — установить срок действия ключа, равным 10 тысячам дней, что примерно равно 27 годам.</li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Это стандартный низкоуровневый способ создания подписи. Обычно им пользуются Java-разработчики.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Для любителей C++, Qt и QML, генерация ключей имеет готовый интерфейс:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image15399338055ckbgrop9f.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">В современных версия Qt Creator можно в настройках проекта нажать &quot;Связка ключей&quot; - &quot;Создать&quot;, и будет запрошен пароль на связку и каталог для сохранения сгенерированного файла. Как только нужно будет выпустить подписанный пакет, надо включить галку &quot;Подписывание пакета&quot; и выбрать файл связки ключей. В результате, в момент сборки будет запрошен пароль на связку ключей, после чего приложение будет подписано. То есть, сгенерированный APK-файл будет содержать электронную подпись.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<table border="1" style=" border-style:solid; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" align="center" width="90%" cellspacing="-1" cellpadding="0" bgcolor="#ffff7f">
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Знаете ли вы, что:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Приобрести различные аксесуары для мобильных телефонов можно на странице <a href="https://onecase.com.ua/pages/chehly_dlja_telefonov"><span style=" text-decoration: underline; color:#0000ff;">https://onecase.com.ua/pages/chehly_dlja_telefonov</span></a><span style=" color:#000000;"> . Чехлы, подсумники, защитные стекла и прочая необходимая мелочь есть на этом сайте. </span></p></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>